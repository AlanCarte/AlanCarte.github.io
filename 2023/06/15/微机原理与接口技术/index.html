<!DOCTYPE html><html lang=zh-CN data-theme=light><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=no"><title>微机原理与接口技术 | Alan</title><meta name=keywords content=微机原理,基础学习><meta name=author content=Alan><meta name=copyright content=Alan><meta name=format-detection content="telephone=no"><meta name=theme-color content=#f7f9fe><meta name=mobile-web-app-capable content=yes><meta name=apple-touch-fullscreen content=yes><meta name=apple-mobile-web-app-title content=微机原理与接口技术><meta name=application-name content=微机原理与接口技术><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=#f7f9fe><meta property=og:type content=article><meta property=og:title content=微机原理与接口技术><meta property=og:url content=https://blog.haodene.love/2023/06/15/%E5%BE%AE%E6%9C%BA%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8E%A5%E5%8F%A3%E6%8A%80%E6%9C%AF/index.html><meta property=og:site_name content=Alan><meta property=og:description content="微机原理与接口技术第一章 微型计算机系统概述1. 微型计算机系统组成 微处理器:运算器、控制器、寄存器 微型计算机：输入输出接口、总线、内存 微型计算机系统：由硬件和软件共同组成的完整的计算机系统  2. 系统总线 地址总线AB 输出将要访问的内存单元或I&amp;#x2F;O端口的地址 地址线的多少决定了系统直接寻"><meta property=og:locale content=zh-CN><meta property=og:image content=https://pic-1318708771.cos.ap-beijing.myqcloud.com/test/202306272036912.webp><meta property=article:author content=Alan><meta property=article:tag><meta name=twitter:card content=summary><meta name=twitter:image content=https://pic-1318708771.cos.ap-beijing.myqcloud.com/test/202306272036912.webp><meta name=description content="微机原理与接口技术第一章 微型计算机系统概述1. 微型计算机系统组成 微处理器:运算器、控制器、寄存器 微型计算机：输入输出接口、总线、内存 微型计算机系统：由硬件和软件共同组成的完整的计算机系统  2. 系统总线 地址总线AB 输出将要访问的内存单元或I&amp;#x2F;O端口的地址 地址线的多少决定了系统直接寻"><link rel="shortcut icon" href=https://bu.dusays.com/2023/08/01/64c8850d6f661.png><link rel=canonical href=https://blog.haodene.love/2023/06/15/%E5%BE%AE%E6%9C%BA%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8E%A5%E5%8F%A3%E6%8A%80%E6%9C%AF/ ><link rel=preconnect href=//cdn.cbd.int><link rel=preconnect href=//hm.baidu.com><link rel=preconnect href=//busuanzi.ibruce.info><meta name=google-site-verification content=xxx><meta name=baidu-site-verification content=code-xxx><meta name=msvalidate.01 content=xxx><link rel=manifest href=/manifest.json><meta name=msapplication-TileColor content=var(--anzhiyu-main)><link rel=mask-icon href=/img/siteicon/apple-icon-181.png color=#5bbad5><link rel=apple-touch-icon sizes=180x180 href=/img/siteicon/apple-icon-181.png><link rel=apple-touch-icon-precomposed sizes=180x180 href=/img/siteicon/apple-icon-181.png><link rel=icon type=image/png sizes=32x32 href=/img/siteicon/30.png><link rel=icon type=image/png sizes=16x16 href=/img/siteicon/15.png><link rel=bookmark href=/img/siteicon/apple-icon-181.png><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-2048-2732.jpg media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-2732-2048.jpg media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-1668-2388.jpg media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-2388-1668.jpg media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-1536-2048.jpg media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-2048-1536.jpg media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-1668-2224.jpg media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-2224-1668.jpg media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-1620-2160.jpg media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-2160-1620.jpg media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-1290-2796.jpg media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-2796-1290.jpg media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-1179-2556.jpg media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-2556-1179.jpg media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-1284-2778.jpg media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-2778-1284.jpg media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-1170-2532.jpg media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-2532-1170.jpg media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-1125-2436.jpg media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-2436-1125.jpg media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-1242-2688.jpg media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-2688-1242.jpg media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-828-1792.jpg media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-1792-828.jpg media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-1242-2208.jpg media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-2208-1242.jpg media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-750-1334.jpg media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-1334-750.jpg media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-640-1136.jpg media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel=apple-touch-startup-image href=/img/siteicon/apple-splash-1136-640.jpg media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel=stylesheet href=/css/index.css><link rel=stylesheet href=https://cdn.cbd.int/@fortawesome/fontawesome-free@6.4.0/css/all.min.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.css media=print onload='this.media="all"'><link rel=stylesheet href=https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css media=print onload='this.media="all"'><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?75071eee0c50b2c50deff7afb1c2fd33",document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}()</script><script>const GLOBAL_CONFIG={linkPageTop:{enable:!0,title:"与数百名博主无限进步",addFriendPlaceholder:"昵称（请勿包含博客等字样）：\n网站地址（要求博客地址，请勿提交个人主页）：\n头像图片url（请提供尽可能清晰的图片，我会上传到我自己的图床）：\n描述：\n站点截图（可选）：\n"},peoplecanvas:void 0,postHeadAiDescription:{enable:!0,gptName:"Alan",mode:"tianli",switchBtn:!1,btnLink:"https://afdian.net/item/886a79d4db6711eda42a52540025c377",randomNum:2,basicWordCount:1e3,key:"k2jZ2gVvt4klhkWnq2wQ",Referer:"https://blog.haodene.love/"},diytitle:{enable:!0,leaveTitle:"w(ﾟДﾟ)w 不要走！再看看嘛！",backTitle:"♪(^∇^*)欢迎肥来！"},LA51:{enable:!0,ck:"3FJl62WZiQrbw0rj",LingQueMonitorID:"3FJl62WZiQrbw0rj"},greetingBox:{enable:!0,default:"晚上好👋",list:[{greeting:"晚安😴",startTime:0,endTime:5},{greeting:"早上好鸭👋, 祝你一天好心情！",startTime:6,endTime:9},{greeting:"上午好👋, 状态很好，鼓励一下～",startTime:10,endTime:10},{greeting:"🌈11点多啦, 在坚持一下就吃饭啦～",startTime:11,endTime:11},{greeting:"午安👋, 宝贝",startTime:12,endTime:14},{greeting:"🌈充实的一天辛苦啦！",startTime:14,endTime:18},{greeting:"19点喽, 奖励一顿丰盛的大餐吧🍔。",startTime:19,endTime:19},{greeting:"晚上好👋, 在属于自己的时间好好放松😌~",startTime:20,endTime:24}]},twikooEnvId:"https://ait.haodene.love/",commentBarrageConfig:{enable:!0,maxBarrage:1,barrageTime:4e3,accessToken:"47b8e4c1960e0dbc3d8a47c7663afb7f",mailMd5:"DFE762C8288F6F5A2F69AFC6C29B4227"},root:"/",preloader:{source:3},friends_vue_info:{apiurl:"https://moments.haodene.love/"},navMusic:!0,mainTone:{mode:"api",api:"http://api.qjqq.cn/api/Imgcolor",cover_change:!0},authorStatus:{skills:["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},algolia:{appId:"Y8ZQT82V6Q",apiKey:"9409de909ee4c4567d5ee749a8116d9c",indexName:"my-hexo-blog",hits:{per_page:6},languages:{input_placeholder:"输入关键词后按下回车查找",hits_empty:"找不到您查询的内容：${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:void 0,translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简",rightMenuMsgToTraditionalChinese:"转为繁体",rightMenuMsgToSimplifiedChinese:"转为简体"},noticeOutdate:{limitDay:365,position:"top",messagePrev:"It has been",messageNext:"days since the last update, the content of the article may be outdated."},highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:200},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,simplehomepage:!0,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{copy:!0,copyrightEbable:!1,limitCount:50,languages:{author:"作者: Alan",link:"链接: ",source:"来源: Alan",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。",copySuccess:"复制成功，复制和转载请标注本文地址"}},lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#3b70fc",bgDark:"#1f1f1f",position:"top-center"},source:{justifiedGallery:{js:"https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js",css:"https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1,shortcutKey:{enable:!0,delay:100,shiftDelay:200},autoDarkmode:!1}</script><script id=config-diff>var GLOBAL_CONFIG_SITE={configTitle:"Alan",title:"微机原理与接口技术",postAI:"true",pageFillDescription:"微机原理与接口技术, 第一章 微型计算机系统概述, 1. 微型计算机系统组成, 2. 系统总线, 3. 基于8088CPU的PC微机系统结构, 4. 微处理器（CPU）内部结构, 8088 CPU 外部特性与IBM PC总线结构, 1. 8088的两种组态模式, 2. 8088最小组态的引脚信号, 1. 数据和地址引脚, 2. 读写控制引脚, 3. 中断请求和响应引脚, 4. 总线请求和响应引脚, 5. 其它引脚, 6. 8088的基本总线时序, 7. 8088最小组态的总线时序, 8. 8088最大组态中的引脚定义, 9. 8088最大组态的总线形成, 第二章 半导体存储器及接口, 1. 半导体存储器的分类, 2. 半导体存储器芯片的内部结构, 4. 随机存取存储器, 5. 只读存储器, 6. 半导体存储器与CPU的连接, 7. 存储芯片与CPU的配合, 8. 8086存储器组织, 第三章 基本输入输出接口, I/O接口概述, I/O接口的典型结构, 1. 接口电路的内部结构, 2. 接口电路的外部特性, 3. 接口电路芯片的分类, 4. 接口电路的可编程性, 3. I/O端口的编址, 4. 8088/8086的输入输出指令, 1. 8088/8086的I/O端口, 5. I/O地址的译码, 6. 数据传送方式, 1. 无条件传送方式及其接口, 2. 查询传送方式及其接口, 3. 中断传送方式, 4. DMA传送方式, 第四章 中断控制接口, 1. 8088中断系统, 1. 8088的中断类型, 2. 8088的中断响应过程, 3. 8088的中断向量表, 2. 内部中断服务程序, 1. 内部中断服务程序, 3. 8259A中断控制器, 1. 8259A的内部结构和引脚, 3. 8259A的工作方式, 4. 8259A的编程, 5. 外部中断服务程序, 第五章 定时计数控制接口, 8253/8254定时计数器, 8253/8254的工作方式, 8253/8254的编程, 第六章 DMA控制接口, DMA控制器8237A, 1. 8237A的内部结构和引脚, 2. 8237A的工作时序·空闲周期, 3. 8237A的工作方式, 4. 8237A的寄存器微机原理与接口技术第一章微型计算机系统概述微型计算机系统组成微处理器运算器控制器寄存器微型计算机输入输出接口总线内存微型计算机系统由硬件和软件共同组成的完整的计算机系统系统总线地址总线输出将要访问的内存单元或端口的地址地址线的多少决定了系统直接寻址存储器的范围数据总线读操作时外部数据通过数据总线送往写操作时数据通过数据总线送往外部数据线的多少决定了一次能够传送数据的位数控制总线协调系统中各部件的操作有输出控制输入状态等信号控制总线决定了系统总线的特点例如功能适应性等基于的微机系统结构运算器包括算术逻辑单元对数据进行算术或者逻辑运算控制器包括指令寄存器指令译码器定时控制电路执行一条指令的流程为取指令翻译指令执行指令寄存器阵列包括通用寄存器和专用寄存器通用寄存器用来存放临时数据专用寄存器有和等微处理器内部结构指令处理单元控制器对机器指令译码产生指令执行所需的控制信号并按照指令规定的时序将控制信号传送到内部各器件或传送到总线算术逻辑单元运算器接收到控制器发出的各种运算控制信号后执行相应运算并影响相应标志位寄存器组内用于暂时存放数据地址的存储单元从内存读取指令在内存中读写数据均需要这些寄存器完成寻址暂存的功能其中标志寄存器能够间接影响程序执行流程的内部结构从功能分成两个单元总线接口单元管理与系统总线的接口负责对存储器和外设进行访问执行单元负责指令的译码执行和数据的运算两个单元相互独立分别完成各自操作两个单元可以并行执行实现指令取指和执行的流水线操作外部特性与总线结构的两种组态模式接高电平为最小组态模式接低电平为最大组态模式最小组态的引脚信号数据和地址引脚地址数据分时复用引脚双向三态在访问存储器或外设的总线操作周期中这些引脚在第一个时钟周期输出存储器或端口的低位地址其他时间用于传送位数据中间位地址引脚输出三态这些引脚在访问存储器或外设时提供全部位地址中的中间位地址地址状态分时复用引脚输出三态这些引脚在访问存储器的第一个时钟周期输出高位地址在访问外设的第一个时钟周期全部输出低电平无效其他时间输出状态信号始终为低为标志寄存器的中断允许标志的状态位它在每一个时钟周期开始时被修改和用以指示是哪一个段寄存器正在被使用为为为为在方式时这条线处于高阻状态读写控制引脚地址锁存允许输出三态高电平有效引脚高有效时表示复用引脚和正在传送地址信息由于地址信息在这些复用引脚上出现的时间很短暂所以系统可以利用引脚将地址锁存起来或存储器访问输出三态该引脚输出高电平时表示将访问端口这时地址总线提供位口地址该引脚输出低电平时表示将访问存储器这时地址总线提供位存储器地址写控制输出三态低电平有效有效时表示正在写出数据给存储器或端口读控制输出三态低电平有效有效时表示正在从存储器或端口读入数据存储器或口就绪输入高电平有效在总线操作周期中会在第个时钟周期的前沿下降沿测试该引脚如果测到高有效直接进入第个时钟周期如果测到无效将插入等待周期在等待周期中仍然要监测信号有效则进入第个时钟周期否则继续插入等待周期数据允许输出三态低电平有效有效时表示当前数据总线上正在传送数据可利用他来控制对数据总线的驱动数据发送接收输出三态该信号表明当前总线上数据的流向高电平时数据自输出发送低电平时数据输入接收最小组态模式下的状态输出信号它与和一道通过编码指示在最小组态下的种工作状态中断请求和响应引脚可屏蔽中断请求输入高电平有效有效时表示请求设备向申请可屏蔽中断该请求的优先级别较低并可通过关中断指令清除标志寄存器中的标志从而对中断请求进行屏蔽可屏蔽中断响应输出低电平有效有效时表示来自引脚的中断请求已被响应进入中断响应周期中断响应周期是连续的两个每个都发出有效响应信号以便通知外设他们的中断请求已被响应并令有关设备将中断向量号送到数据总线不可屏蔽中断请求输入上升沿有效有效时表示外界向申请不可屏蔽中断该请求的优先级别高于并且不能在内被屏蔽当系统发生紧急情况时可通过他向申请不可屏蔽中断服务总线请求和响应引脚总线保持即总线请求输入高电平有效有效时表示总线请求设备向申请占有总线总线保持响应即总线响应输出高电平有效有效时表示已响应总线请求并已将总线释放此时的地址总线数据总线及具有三态输出能力的控制总线将全面呈现高阻使总线请求设备可以顺利接管总线待到总线请求信号无效总线响应信号也转为无效重新获得总线控制权复位请求输入高电平有效该信号有效将使回到其初始状态当它再度返回无效时将重新开始工作复位后所以程序入口在物理地址时钟输入其它引脚组态选择输入测试输入低电平有效的基本总线时序总线时序描述引脚如何实现总线操作描述总线操作的微处理器时序有三级指令周期总线周期时钟周期指令周期是指一条指令经取指译码读写操作数到执行完成的过程若干总线周期组成一个指令周期总线周期是指通过总线操作与外部存储器或端口进行一次数据交换的过程的基本总线周期需要个时钟周期总线操作中如何实现与内存接口芯片间的时序同步是关键同步时序各部件都以系统时钟信号为基准当相互不能配合时快速部件插入等待状态等待慢速部件和存储器异步时序与外设接口通过应答联络信号实现同步操作最小组态的总线时序存储器读总线周期存储器写总线周期读总线周期写总线周期最大组态中的引脚定义有些控制信号不相同主要是用于输出操作编码信号由总线控制器译码产生系统控制信号总线封锁信号个状态信号指令队列状态信号个总线请求同意信号最大组态的总线形成系统地址总线采用三态透明锁存器和三态单向缓冲器系统数据总线通过三态双向缓冲器形成和驱动系统控制总线主要由总线控制器形成第二章半导体存储器及接口半导体存储器的分类读写存储器只读存储器掩膜信息制作在芯片中不可更改允许一次编程此后不可更改用紫外光擦除擦除后可编程并允许用户多次擦除和编程采用加电方法在线进行擦除和编程也可多次擦写闪存能够快速擦写的但只能按块擦除半导体存储器芯片的内部结构每个存储单元具有一个唯一的地址可存储位位片结构或多位字片结构二进制数据存储容量与地址数据线个数有关芯片的存储容量存储单元数存储单元的位数地址译码电路结构单译码双译码片选和读写控制逻辑片选端或有效时可以对该芯片进行读写操作输出控制读操作有效时芯片内数据输出该控制端对应系统的读控制线写控制写操作有效时数据进入芯片中该控制端对应系统的写控制线随机存取存储器静态的基本存储单元是触发器电路一般采用字结构存储矩阵芯片外部特性根地址线根数据线片选读写芯片外部特性个引脚根地址线根数据线片选读写动态每个存储单元存放一位芯片内每个位单元具有独立地址需要个存储芯片构成一个字节单元每个芯片外部特性根地址线根数据输入线根数据输出线行地址选通列地址选通读写控制的刷新采用仅行地址有效方法刷新芯片外部特性根地址线根数据输入线根数据输出线行地址选通列地址选通读写控制只读存储器根地址线根数据线片选编程读写编程电压根地址线根数据线片选编程读写编程电压用加电方法进行在线无需拔下直接在电路中擦写擦除和编程一次完成根地址线根数据线片选读写状态输出根地址线根数据线片选读写半导体存储器与的连接存储芯片的数据线若芯片的数据线正好根一次可从芯片中访问到位数据全部数据线与系统的位数据总线相连若芯片的数据线不足根一次不能从一个芯片中访问到位数据位扩充存储芯片的地址线芯片的地址线通常应全部与系统的低位地址总线相连寻址时这部分地址的译码是在存储芯片内完成的我们称为片内译码存储芯片的片选端存储系统常需利用多个存储芯片扩充容量也就是扩充了存储器地址范围进行地址扩充需要利用存储芯片的片选端对多个存储芯片组进行寻址这个寻址方法主要通过将存储芯片的片选端与系统的高位地址线相关联来实现这种扩充简称为地址扩充或字扩充译码和译码器全译码所有的系统地址线均参与对存储单元的译码寻址包括低位地址线对芯片内各存储单元的译码寻址片内译码高位地址线对存储芯片的译码寻址片选译码采用全译码每个存储单元的地址都是唯一的不存在地址重复译码电路可能比较复杂连线也较多部分译码只有部分高位地址线参与对存储芯片的译码每个存储单元将对应多个地址地址重复需要选取一个可用地址可简化译码电路的设计但系统的部分地址空间将被浪费线选译码只用少数几根高位地址线进行芯片的译码且每根负责选中一个芯片组虽构成简单但地址空间严重浪费必然会出现地址重复一个存储地址会对应多个存储单元多个存储单元共用的存储地址不应使用存储芯片的读写控制线芯片与系统的读命令线相连当芯片被选中且读命令有效时存储芯片将开放并驱动数据到总线芯片与系统的写命令线相连当芯片被选中且写命令有效时允许总线数据写入存储芯片存储芯片与的配合总线驱动的总线驱动能力有限单向传送的地址和控制总线可采用三态锁存器和三态单向驱动器等来加以锁存和驱动双向传送的数据总线可以采用三态双向驱动器来加以驱动时序配合分析存储器的存取速度是否满足总线时序的要求如果不能满足考虑更换芯片总线周期中插入等待状态存储器组织寻址空间位地址线的存储器寻址空间分段的概念分段组织段寄存器的位值左移位得到的位值加上位的偏移量字与字节访问信号和信号组合选择奇偶字节或字第三章基本输入输出接口接口概述接口是位于系统与外设间用来协助完成数据传送和控制任务的逻辑电路机系统板的可编程接口芯片总线槽的电路板适配器都是接口电路信号转换对信号的形式和数据的格式进行变换微机直接处理数字量开关量脉冲量数据缓冲对输入输出数据进行缓冲和锁存输出锁存缓冲环节输入锁存缓冲环节对端口进行寻址与和设备进行联络接口的典型结构接口电路的内部结构数据寄存器保存外设给和发往外设的数据状态寄存器保存外设或接口电路的状态控制寄存器保存给外设或接口电路的命令接口电路的外部特性面向一侧的信号用于与连接主要是数据地址和控制信号面向外设一侧的信号用于与外设连接提供的信号种类繁多功能定义时序及有效电平等差异较大接口电路芯片的分类通用接口芯片支持通用的数据输入输出和控制的接口芯片面向外设的专用接口芯片针对某种外设设计与该种外设接口面向微机系统的专用接口芯片与和系统配套使用以增强其总体功能接口电路的可编程性端口的编址数据寄存器状态寄存器和控制寄存器占有的地址常依次被称为数据端口状态端口和控制端口用于保存数据状态和控制信息两类编排形式端口独立编址优点端口的地址空间独立控制和地址译码电路相对简单专门的指令使程序清晰易读缺点指令没有存储器指令丰富端口与存储器统一编址优点不需要专门的指令数据存取与存储器数据存取一样灵活缺点端口要占去部分存储器地址空间程序不易阅读不易分清访存和访问外设的输入输出指令输入指令字节输入直接寻址字节输入间接寻址字输入直接寻址字输入间接寻址输出指令字节输出直接寻址字节输出间接寻址字输出直接寻址字输出间接寻址的端口用于寻址外设端口的地址线为条端口最多为个端口号端口地址为每个端口地址对应一个字节空间寻址方式直接寻址只用于寻址前个端口操作数表示端口号间接寻址可用于寻址全部个端口寄存器的值就是端口号对端口号大于的端口只能采用间接寻址方式数据交换如果输入输出一个字节使用寄存器如果输入输出一个字使用寄存器地址的译码数据传送方式程序控制下的数据传送通过执行程序中的指令来完成传送又分为无条件传送查询传送中断传送直接存储器存取传送请求由外设向控制器提出后者向申请总线最后利用系统总线来完成外设和存储器间的数据传送处理机委托专门的处理机来管理外设完成传送和相应的数据处理无条件传送方式及其接口在与慢速变化的设备或简单设备交换数据时可以认为它们总是处于就绪状态随时可以进行数据传送适合于简单设备如数码管开关等指向数据端口从输入端口读开关状态反相送输出端口显示调子程序延时重复查询传送方式及其接口需要先了解查询外设的工作状态然后在外设可以交换信息的情况下就绪实现数据输入或输出对多个外设的情况则按一定顺序依次查询轮询查询传送的特点是工作可靠适用面宽但传送效率低查询输入接口程序示例指向状态端口读状态端口测试标志位未就绪继续查询就绪指向数据端口从数据端口输入数据查询输出接口程序示例指向状态端口读取状态端口的状态数据测试标志位未就绪继续查询就绪指向数据端口变量送将数据输出给数据端口查询方式的编程写入内容写入存储单元空操作指令起延时作用查询状态口测试芯片还在写入写毕指针移动循环至全部字节写完中断传送方式中断请求中断响应关中断断点保护中断识别现场保护中断服务恢复现场开中断中断返回中断传送是一种效率更高的程序传送方式进行传送的中断服务程序是预先设计好的中断请求是外设随机向提出的传送方式对控制器进行初始化设置外设和三者通过应答信号建立联系将总线交给控制传送读存储器存储器外设写存储器存储器外设自动增减地址和计数判断传送完成否传送方式的比较无条件传送慢速外设需与保持同步查询传送简单实用效率较低中断传送外设主动可与并行工作但每次传送需要大量额外时间开销传送控制外设直接和存储器进行数据传送适合大量快速数据传送第四章中断控制接口中断系统的中断系统采用向量中断机制能够处理个中断用中断向量号区别可屏蔽中断还需要借助专用中断控制器实现优先权管理的中断类型内部中断除法错中断指令中断溢出中断单步中断外部中断非屏蔽中断可屏蔽中断的中断响应过程各种中断源的优先权实际上是指被识别出来的先后多种中断同时请求时最先响应的则可能是单步中断或中断的中断向量表中断向量中断服务程序的入口地址首地址逻辑地址含有段地址和偏移地址位每个中断向量的低字是偏移地址高字是段地址需占用个字节微处理器从物理地址开始依次安排各个中断向量向量号也从开始个中断占用区域就形成中断向量表向量号为的中断向量的物理地址内部中断服务程序内部中断服务程序编写号中断服务程序功能显示以结尾字符串的功能利用显示器功能调用字符串缓冲区首地址为入口参数段地址偏移地址传递参数偏移段基址字符串保存中断向量中断向量号功能调用保存偏移地址保存段基地址设置中断向量设置中断向量功能调用中断向量号调用中断服务程序设置入口参数段地址已设置偏移地址调用中断服务程序主程序结束进入中断服务程序开中断保护寄存器显示字符串退出中断服务程序恢复寄存器中断返回中断控制器的内部结构和引脚中断控制中断请求寄存器保存条外界中断请求信号的请求状态位为表示引脚有中断请求为表示无请求中断服务寄存器保存正在被服务着的中断状态位为表示中断正在服务中为表示没有被服务中断屏蔽寄存器保存对中断请求信号的屏蔽状态位为表示中断被屏蔽禁止为表示允许与处理器接口中断级连一个系统中可以级连有一个主若干个最多个从级连时主的三条级连线作为输出线连至每个从的在非缓冲方式下规定该是主片还是从片的工作方式设置优先权方式普通全嵌套方式特殊全嵌套方式优先权自动循环方式结束中断处理方式利用中断服务寄存器判断某位为表示正在进行中断服务该位为就是该中断结束服务自动中断结束方式普通中断结束方式配合全嵌套优先权方式使用特殊中断结束方式配合循环优先权方式使用屏蔽中断源方式普通屏蔽方式将的位置则对应的中断被屏蔽特殊屏蔽方式将的位置对应的中断被屏蔽的同时使的位置中断触发方式边沿触发方式电平触发方式数据线连接方式缓冲方式的数据线需加缓冲器予以驱动把引脚作为输出端输出允许信号用以锁存或开启缓冲器非缓冲方式引脚为输入端若级连由其确定是主片或从片的编程初始化命令字初始化命令字最多有个在开始工作前必须写入必须按照顺序写入和是必须送的和由工作方式决定中断控制器的初始化程序段初始化主片写入写入写入写入初始化从片写入写入写入写入操作命令字共有个写入时没有顺序要求需要哪个就写入那个应用注意事项利用上升沿做为中断请求的有效信号的中断向量号依次为依次为采用普通全嵌套优先权方式中断优先权从高到低顺序为且不能改变外部中断服务程序的向量号为中断请求来自定时器每隔产生一次本程序的号中断服务程序每次中断显示一串信息显示次保存偏移地址保存段基地址设置中断向量设置中断寄存器允许设置中断次数初值开中断循环等待中断中断次退出子程序结束进入中断服务程序开中断保护寄存器设置数据段中断处理显示信息恢复寄存器中断返回显示字符串显示字符串子程序显示字符串第五章定时计数控制接口定时计数器个独立的位计数器通道每个计数器有种工作方式按二进制或十进制码计数计数器结构分析计数初值存于预置寄存器在计数过程中减法计数器的值不断递减而预置寄存器中的预置不变输出锁存器用于写入锁存命令时锁定当前计数值计数器的个引脚时钟输入信号在计数过程中此引脚上每输入一个时钟信号下降沿计数器的计数值减门控输入信号控制计数器工作可分成电平控制和上升沿控制两种类型计数器输出信号当一次计数过程结束计数值减为引脚上将产生一个输出信号的工作方式方式计数结束中断方式可编程单稳脉冲方式频率发生器分频器方式方波发生器方式软件触发选通信号方式硬件触发选通信号注意处理器写入的计数初值只是写入了预置寄存器之后到来的第一个输入脉冲需先由低电平变高再由高变低才将预置寄存器的初值送到减计数器从第二个信号的下降沿计数器才真正开始减计数的编程第六章控制接口控制器每个芯片有个通道就是有个控制器每个通道具有不同的优先权每个通道可以分别允许和禁止每个通道有种工作方式一次传送的最大长度可达多个芯片可以级连扩展通道数的内部结构和引脚请求与响应信号通道请求总线请求总线响应通道响应传送控制信号地址线输出低位存储器地址数据线输出高位存储器地址地址选通地址允许存储器读存储器写读写准备好过程结束传送过程结束输出一个低有效脉冲处理器接口信号数据线地址线片选读读取内部寄存器写写入内部寄存器时钟控制芯片内部操作和数据传输复位使处于初始状态的两种工作状态空闲周期作为接口电路受控制的工作状态有效周期作为控制传送的工作状态的工作时序空闲周期传送时序状态输出位存储器地址输出高电平表示传送状态输出响应信号和控制信号读和有效写和有效和状态检测数据传送是否能够完成决定是否插入等待状态状态完成数据传送的工作方式传送方式单字节传送方式一次传送一个字节效率略低传送之间有机会重新获取总线控制权数据块传送方式一次请求传送一个数据块效率高整个传送期间长时间无法控制总线请求传送方式信号有效就连续传送数据信号无效传送被暂时中止释放总线可继续操作级连方式传送类型读写检验通道的优先权方式固定优先权方式优先权固定循环优先权方式优先权循环变化自动初始化方式的寄存器通道寄存器个通道分别具有基地址寄存器基字节数寄存器现行地址寄存器现行字节数寄存器状态命令寄存器命令寄存器状态寄存器请求寄存器方式寄存器屏蔽寄存器临时寄存器",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-07-25 18:52:28",postMainColor:""}</script><noscript><style type=text/css>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:(e,t,a)=>{var o;0!==a&&(o=Date.now(),localStorage.setItem(e,JSON.stringify({value:t,expiry:o+864e5*a})))},get:e=>{var t=localStorage.getItem(e);if(t){t=JSON.parse(t);if(!(Date.now()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=(o,n={})=>new Promise((t,e)=>{const a=document.createElement("script");a.src=o,a.async=!0,a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},Object.keys(n).forEach(e=>{a.setAttribute(e,n[e])}),document.head.appendChild(a)}),e.getCSS=(o,n=!1)=>new Promise((t,e)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=o,n&&(a.id=n),a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#18171d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#f7f9fe")};var e=saveToLocal.get("theme"),t=(new Date).getHours(),t=((void 0===e?t<=8||22<=t?activateDarkMode:activateLightMode:"light"===e?activateLightMode:activateDarkMode)(),saveToLocal.get("aside-status"));void 0!==t&&("hide"===t?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel=stylesheet href=/css/custom.css media=defer onload='this.media="all"'><link rel=stylesheet href=/css/icon-font.css><link rel=stylesheet href=/css/welcome.css?1><link rel=stylesheet href=/css/stars.css?1><link rel=stylesheet href=/css/icon.css?1><link rel=stylesheet href=/css/footer-bar.css?1><link rel=stylesheet href=/css/cc-icons.min.css?1><link rel=stylesheet href=//at.alicdn.com/t/font_1891866_qo793wp12h.css?1><link rel=stylesheet href=/css/subscribe.css><link rel=stylesheet href=/css/home.css><link rel=stylesheet href=/css/view.css><link rel=stylesheet href=/css/widget.css><link rel=stylesheet href=https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css><link rel=stylesheet href=https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css media=defer onload='this.media="all"'><link rel=stylesheet href=https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css media=defer onload='this.media="all"'><script src=https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js></script><meta name=generator content="Hexo 6.3.0"><link rel=alternate href=/atom.xml title=Alan type=application/atom+xml></head><body data-type=anzhiyu><div id=web_bg></div><div id=an_music_bg></div><div id=loading-box onclick=document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)><div class=loading-bg><img class="loading-img nolazyload" alt=加载头像 src=/img/01.png><div class=loading-image-dot></div></div></div><script>const preloader={endLoading:()=>{document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",()=>{preloader.endLoading()}),setTimeout(function(){preloader.endLoading()},1e4),document.addEventListener("pjax:send",()=>{preloader.initLoading()}),document.addEventListener("pjax:complete",()=>{preloader.endLoading()})</script><link rel=stylesheet href=https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css><script async=async src=https://cdn.cbd.int/pace-js@1.2.4/pace.min.js data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class=post id=body-wrap><header class=post-bg id=page-header><nav id=nav><div id=nav-group><span id=blog_name><div class=back-home-button><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class=back-menu-list-groups><div class=back-menu-list-group><div class=back-menu-list-title>网页</div><div class=back-menu-list><a class=back-menu-item href=https://blog.haodene.love/ title=博客><img class=back-menu-item-icon src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://pic-1318708771.cos.ap-beijing.myqcloud.com/test/202306232207145.png alt=博客><span class=back-menu-item-text>博客</span></a></div></div><div class=back-menu-list-group><div class=back-menu-list-title>项目</div><div class=back-menu-list><a class=back-menu-item target=_blank rel=noopener href=https://like.haodene.love/ title=Love♥><img class=back-menu-item-icon src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://image.haodene.love/image/favicon.ico alt=Love♥><span class=back-menu-item-text>Love♥</span></a></div></div></div></div><a id=site-name href=/ accesskey=h><div class=title>Alan</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class=mask-name-container><div id=name-container><a id=page-name href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id=menus><div class=menus_items><div class=menus_item><a class=site-page href=javascript:void(0);><span>文库</span></a><ul class=menus_item_child><li><a class="site-page child faa-parent animated-hover" href=/archives/ ><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style=font-size:.9em></i><span> 全部文章</span></a></li><li><a class="site-page child faa-parent animated-hover" href=/categories/ ><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style=font-size:.9em></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href=/tags/ ><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style=font-size:.9em></i><span> 标签</span></a></li></ul></div><div class=menus_item><a class=site-page href=javascript:void(0);><span>友链</span></a><ul class=menus_item_child><li><a class="site-page child faa-parent animated-hover" href=/link/ ><i class="anzhiyufont anzhiyu-icon-link faa-tada" style=font-size:.9em></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href=/fcircle/ ><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style=font-size:.9em></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href=/comments/ ><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style=font-size:.9em></i><span> 留言板</span></a></li></ul></div><div class=menus_item><a class=site-page href=javascript:void(0);><span>我的</span></a><ul class=menus_item_child><li><a class="site-page child faa-parent animated-hover" href="/music/?id=2173542081&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style=font-size:.9em></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href=/album/ ><i class="anzhiyufont anzhiyu-icon-images faa-tada" style=font-size:.9em></i><span> 相册集</span></a></li></ul></div><div class=menus_item><a class=site-page href=javascript:void(0);><span>关于</span></a><ul class=menus_item_child><li><a class="site-page child faa-parent animated-hover" href=/about/ ><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style=font-size:.9em></i><span> 关于我</span></a></li><li><a class="site-page child faa-parent animated-hover" href=/essay/ ><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style=font-size:.9em></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href=javascript:toRandomPost()><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style=font-size:.9em></i><span> 随便逛逛</span></a></li></ul></div><div class=menus_item><a class=site-page href=javascript:void(0);><span>树洞</span></a><ul class=menus_item_child><li><a class="site-page child faa-parent animated-hover" href=/collect/ ><i class="fa-solid fa-heart faa-tada"></i><span> 藏宝阁</span></a></li><li><a class="site-page child faa-parent animated-hover" href=/stars/ ><i class="fa-solid fa-star faa-tada"></i><span> 百宝箱</span></a></li><li><a class="site-page child faa-parent animated-hover" href=/games/ ><i class="fa-solid fa-fire faa-tada"></i><span> 游戏空间</span></a></li></ul></div></div></div><div id=nav-right><div class="nav-button only-home" id=travellings_button title=随机前往一个开往项目网站><a class=site-page onclick=anzhiyu.totraveling() title=随机前往一个开往项目网站 href=javascript:void(0); rel="external nofollow" data-pjax-state=external><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class=nav-button id=randomPost_button><a class=site-page onclick=toRandomPost() title=随机前往一个文章 href=javascript:void(0);><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class=nav-button id=search-button><a class="site-page social-icon search" href=javascript:void(0); title=搜索🔍 accesskey=s><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id=center-console type=checkbox><label class=widget for=center-console title=中控台 onclick=anzhiyu.switchConsole()><i class=left></i><i class="widget center"></i><i class="widget right"></i></label><div id=console><div class=console-card-group-reward><ul class="reward-all console-card"><li class=reward-item><a href=/img/wechat.jpg target=_blank><img class=post-qr-code-img alt=wechat src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=/img/wechat.jpg></a><div class=post-qr-code-desc>wechat</div></li><li class=reward-item><a href=/img/alipay.jpg target=_blank><img class=post-qr-code-img alt=alipay src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=/img/alipay.jpg></a><div class=post-qr-code-desc>alipay</div></li></ul></div><div class=console-card-group><div class=console-card-group-left><div class=console-card id=card-newest-comments><div class=card-content><div class=author-content-item-tips>互动</div><span class=author-content-item-title>最新评论</span></div><div class=aside-list><span>正在加载中...</span></div></div></div><div class=console-card-group-right><div class="console-card tags"><div class=card-content><div class=author-content-item-tips>兴趣点</div><span class=author-content-item-title>寻找你感兴趣的领域</span><div class=card-tags><div class=item-headline></div><div class=card-tag-cloud><a href=/tags/C%E8%AF%AD%E8%A8%80/ style=font-size:1.05rem>C语言<sup>1</sup></a><a href=/tags/Git/ style=font-size:1.05rem>Git<sup>1</sup></a><a href=/tags/Java/ style=font-size:1.05rem>Java<sup>7</sup></a><a href=/tags/Linux/ style=font-size:1.05rem>Linux<sup>3</sup></a><a href=/tags/Markdown/ style=font-size:1.05rem>Markdown<sup>1</sup></a><a href=/tags/MyBatis/ style=font-size:1.05rem>MyBatis<sup>1</sup></a><a href=/tags/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/ style=font-size:1.05rem>基础学习<sup>1</sup></a><a href=/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/ style=font-size:1.05rem>基础知识<sup>6</sup></a><a href=/tags/%E5%A4%96%E6%8C%82%E6%A0%87%E7%AD%BE/ style=font-size:1.05rem>外挂标签<sup>1</sup></a><a href=/tags/%E5%BE%AE%E6%9C%BA%E5%8E%9F%E7%90%86/ style=font-size:1.05rem>微机原理<sup>1</sup></a><a href=/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/ style=font-size:1.05rem>面试题<sup>5</sup></a></div></div><hr></div></div><div class="console-card history"><div class=item-headline><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class=card-archives><div class=item-headline><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class=card-archive-list><li class=card-archive-list-item><a class=card-archive-list-link href=/archives/2023/08/ ><span class=card-archive-list-date>八月 2023</span><div class=card-archive-list-count-group><span class=card-archive-list-count>1</span><span>篇</span></div></a></li><li class=card-archive-list-item><a class=card-archive-list-link href=/archives/2023/07/ ><span class=card-archive-list-date>七月 2023</span><div class=card-archive-list-count-group><span class=card-archive-list-count>6</span><span>篇</span></div></a></li><li class=card-archive-list-item><a class=card-archive-list-link href=/archives/2023/06/ ><span class=card-archive-list-date>六月 2023</span><div class=card-archive-list-count-group><span class=card-archive-list-count>8</span><span>篇</span></div></a></li></ul></div><hr></div></div></div><div class=button-group><div class=console-btn-item><a class=darkmode_switchbutton title=显示模式切换 href=javascript:void(0);><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class=console-btn-item id=consoleHideAside onclick=anzhiyu.hideAsideBtn() title=边栏显示控制><a class=asideSwitch><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id=consoleCommentBarrage onclick=anzhiyu.switchCommentBarrage() title=热评开关><a class=commentBarrage><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class=console-btn-item id=consoleMusic onclick=anzhiyu.musicToggle() title=音乐开关><a class=music-switch><i class="anzhiyufont anzhiyu-icon-music"></i></a></div><div class=console-btn-item id=consoleKeyboard onclick=anzhiyu.keyboardToggle() title=快捷键开关><a class=keyboard-switch><i class="anzhiyufont anzhiyu-icon-keyboard"></i></a></div></div><div class=console-mask onclick=anzhiyu.hideConsole() href=javascript:void(0);></div></div><div class=nav-button id=nav-totop><a class=totopbtn href=javascript:void(0);><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id=percent onclick=anzhiyu.scrollToDest(0,500)>0</span></a></div><div id=toggle-menu><a class=site-page href=javascript:void(0); title=切换><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id=post-info><div id=post-firstinfo><div class=meta-firstline><a class=post-meta-original>原创</a><span class=post-meta-categories><span class=post-meta-separator></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class=post-meta-categories href=/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ itemprop=url>学习笔记</a></span><span class="article-meta tags"><a class=article-meta__tags href=/tags/%E5%BE%AE%E6%9C%BA%E5%8E%9F%E7%90%86/ tabindex=-1 itemprop=url> <span><i class="anzhiyufont anzhiyu-icon-hashtag"></i>微机原理</span></a><a class=article-meta__tags href=/tags/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/ tabindex=-1 itemprop=url> <span><i class="anzhiyufont anzhiyu-icon-hashtag"></i>基础学习</span></a></span></div></div><h1 class=post-title itemprop="name headline">微机原理与接口技术</h1><div id=post-meta><div class=meta-firstline><span class=post-meta-date><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class=post-meta-label>发表于</span><time class=post-meta-date-created itemprop="dateCreated datePublished" datetime=2023-06-15T08:30:00.000Z title="发表于 2023-06-15 16:30:00">2023-06-15</time><span class=post-meta-separator></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class=post-meta-label>更新于</span><time class=post-meta-date-updated itemprop="dateCreated datePublished" datetime=2023-07-25T10:52:28.023Z title="更新于 2023-07-25 18:52:28">2023-07-25</time></span></div><div class=meta-secondline><span class=post-meta-separator></span><span class=post-meta-wordcount><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title=文章字数></i><span class=post-meta-label title=文章字数>字数总计:</span><span class=word-count title=文章字数>8.7k</span><span class=post-meta-separator></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title=阅读时长></i><span class=post-meta-label title=阅读时长>阅读时长:</span><span>28分钟</span></span><span class=post-meta-separator></span><span class=post-meta-pv-cv id="" data-flag-title=微机原理与接口技术><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class=post-meta-label title=阅读量>阅读量:</span><span id=busuanzi_value_page_pv><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class=post-meta-separator> </span><span class=post-meta-position title=作者IP属地为北京><i class="anzhiyufont anzhiyu-icon-location-dot"></i>北京</span><span class=post-meta-separator></span><span class=post-meta-commentcount><i class="anzhiyufont anzhiyu-icon-comments post-meta-icon"></i><span class=post-meta-label>评论数:</span><a href=/2023/06/15/%E5%BE%AE%E6%9C%BA%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8E%A5%E5%8F%A3%E6%8A%80%E6%9C%AF/#post-comment tabindex=-1><span id=twikoo-count><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></a></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class=waves-svg xmlns=http://www.w3.org/2000/svg xlink=http://www.w3.org/1999/xlink viewBox="0 24 150 28" preserveAspectRatio=none shape-rendering=auto><defs><path id=gentle-wave d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class=parallax><use href=#gentle-wave x=48 y=0></use><use href=#gentle-wave x=48 y=3></use><use href=#gentle-wave x=48 y=5></use><use href=#gentle-wave x=48 y=7></use></g></svg></section><div id=post-top-cover><img class=nolazyload id=post-top-bg src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://pic-1318708771.cos.ap-beijing.myqcloud.com/test/202306272036912.webp></div></header><main id=blog-container><div class=layout id=content-inner><div id=post><div class=post-ai-description><div class=ai-title><i class="anzhiyufont anzhiyu-icon-bilibili"></i><div class=ai-title-text>AI-摘要</div><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right"></i><i class="anzhiyufont anzhiyu-icon-circle-dot" title=朗读摘要></i><div id=ai-tag>Tianli GPT</div></div><div class=ai-explanation>AI初始化中...</div><div class=ai-btn-box><div class=ai-btn-item>介绍自己 🙈</div><div class=ai-btn-item>生成本文简介 👋</div><div class=ai-btn-item>推荐相关文章 📖</div><div class=ai-btn-item>前往主页 🏠</div><div class=ai-btn-item id=go-tianli-blog>前往爱发电购买</div></div><script data-pjax src=/js/anzhiyu/ai_abstract.js></script></div><article class=post-content id=article-container itemscope itemtype=https://blog.haodene.love/2023/06/15/%E5%BE%AE%E6%9C%BA%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8E%A5%E5%8F%A3%E6%8A%80%E6%9C%AF/ ><header><a class=post-meta-categories href=/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ itemprop=url>学习笔记</a><a href=/tags/%E5%BE%AE%E6%9C%BA%E5%8E%9F%E7%90%86/ tabindex=-1 itemprop=url>微机原理</a><a href=/tags/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/ tabindex=-1 itemprop=url>基础学习</a><h1 id=CrawlerTitle itemprop="name headline">微机原理与接口技术</h1><span itemprop=author itemscope itemtype=http://schema.org/Person>Alan</span><time itemprop="dateCreated datePublished" datetime=2023-06-15T08:30:00.000Z title="发表于 2023-06-15 16:30:00">2023-06-15</time><time itemprop="dateCreated datePublished" datetime=2023-07-25T10:52:28.023Z title="更新于 2023-07-25 18:52:28">2023-07-25</time></header><h1 id=微机原理与接口技术><a href=#微机原理与接口技术 class=headerlink title=微机原理与接口技术></a>微机原理与接口技术</h1><h2 id=第一章-微型计算机系统概述><a href=#第一章-微型计算机系统概述 class=headerlink title="第一章 微型计算机系统概述"></a>第一章 微型计算机系统概述</h2><h3 id=1-微型计算机系统组成><a href=#1-微型计算机系统组成 class=headerlink title="1. 微型计算机系统组成"></a>1. 微型计算机系统组成</h3><ol><li>微处理器:运算器、控制器、寄存器</li><li>微型计算机：输入输出接口、总线、内存</li><li>微型计算机系统：由硬件和软件共同组成的完整的计算机系统</li></ol><h3 id=2-系统总线><a href=#2-系统总线 class=headerlink title="2. 系统总线"></a>2. 系统总线</h3><ul><li>地址总线AB</li><li>输出将要访问的内存单元或I/O端口的地址</li><li>地址线的多少决定了系统直接寻址存储器的范围</li><li>数据总线DB</li><li>CPU读操作时，外部数据通过数据总线送往CPU</li><li>CPU写操作时，CPU数据通过数据总线送往外部</li><li>数据线的多少决定了一次能够传送数据的位数</li><li>控制总线CB</li><li>协调系统中各部件的操作，有输出控制、输入状态等信号</li><li>控制总线决定了系统总线的特点，例如功能、适应性等</li></ul><h3 id=3-基于8088CPU的PC微机系统结构><a href=#3-基于8088CPU的PC微机系统结构 class=headerlink title="3. 基于8088CPU的PC微机系统结构"></a>3. 基于8088CPU的PC微机系统结构</h3><ol><li>运算器：包括算术逻辑单元（ALU），对数据进行算术或者逻辑运算</li><li>控制器：包括指令寄存器、指令译码器、定时控制电路。执行一条指令的流程为：取指令，翻译指令，执行指令</li><li>寄存器阵列：包括通用寄存器和专用寄存器，通用寄存器用来存放临时数据，专用寄存器有PC和SP等</li></ol><h3 id=4-微处理器（CPU）内部结构><a href=#4-微处理器（CPU）内部结构 class=headerlink title="4. 微处理器（CPU）内部结构"></a>4. 微处理器（CPU）内部结构</h3><ul><li><p>指令处理单元（控制器）：对机器指令<strong>译码</strong>，产生指令执行所需的<strong>控制信</strong>号，并按照指令规定的时序将控制信号<strong>传送</strong>到CPU内部各器件或传送到总线。</p></li><li><p>算术逻辑单元（运算器）：接收到控制器发出的各种运算控制信号后，执行相应运算，并影响相应标志位。</p></li><li><p>寄存器组：CPU内用于暂时存放数据、地址的存储单元，CPU从内存读取指令、在内存中读写数据，均需要这些寄存器完成寻址、暂存的功能。其中标志寄存器能够间接影响程序执行流程</p></li><li><p>8088的内部结构从功能分成两个单元</p><p>a. 总线接口单元BIU——管理8088与系统总线的接口，负责CPU对存储器和外设进行访问</p><p>b. 执行单元EU——负责指令的译码、执行和数据的运算</p><p>c. 两个单元相互独立，分别完成各自操作</p><p>两个单元可以并行执行，实现指令取指和执行的流水线操作</p></li></ul><h2 id=8088-CPU-外部特性与IBM-PC总线结构><a href=#8088-CPU-外部特性与IBM-PC总线结构 class=headerlink title="8088 CPU 外部特性与IBM PC总线结构"></a>8088 CPU 外部特性与IBM PC总线结构</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=/image/01.png alt=01></p><h3 id=1-8088的两种组态模式><a href=#1-8088的两种组态模式 class=headerlink title="1. 8088的两种组态模式"></a>1. 8088的两种组态模式</h3><ul><li>MN/MX*接高电平为最小组态模式</li><li>MN/MX*接低电平为最大组态模式</li></ul><h3 id=2-8088最小组态的引脚信号><a href=#2-8088最小组态的引脚信号 class=headerlink title="2. 8088最小组态的引脚信号"></a>2. 8088最小组态的引脚信号</h3><h5 id=1-数据和地址引脚><a href=#1-数据和地址引脚 class=headerlink title="1. 数据和地址引脚"></a>1. 数据和地址引脚</h5><ol><li>AD7～AD0</li></ol><ul><li>地址/数据分时复用引脚，双向、三态</li><li>在访问存储器或外设的总线操作周期中，这些引脚在第一个时钟周期输出存储器或I/O端口的低8位地址A7～A0</li><li>其他时间用于传送8位数据D7～D0</li></ul><ol><li>A15～A8（Address）<br>中间8位地址引脚，输出、三态<br>这些引脚在访问存储器或外设时，提供全部20位地址中的中间8位地址A15～A8</li><li>A19/S6～A16/S3（Address/Status）</li></ol><ul><li>地址/状态分时复用引脚，输出、三态</li><li>这些引脚在访问存储器的第一个时钟周期输出高4位地址A19～A16</li><li>在访问外设的第一个时钟周期全部输出低电平无效</li><li>其他时间输出状态信号S6～S3</li><li>S6始终为低；</li><li>S5为标志寄存器的中断允许标志的状态位，它在每一个时钟周期开始时被修改；</li><li>S4和S3用以指示是哪一个段寄存器正在被使用，00为ES，01为SS，10为CS，11为DS。</li><li>在DMA方式时这4条线处于高阻状态</li></ul><h5 id=2-读写控制引脚><a href=#2-读写控制引脚 class=headerlink title="2. 读写控制引脚"></a>2. 读写控制引脚</h5><ol><li>ALE（Address Latch Enable）</li></ol><ul><li>地址锁存允许，输出、三态、高电平有效</li><li>ALE引脚高有效时，表示复用引脚：AD7～AD0和A19/S6～A16/S3正在传送地址信息</li><li>由于地址信息在这些复用引脚上出现的时间很短暂，所以系统可以利用ALE引脚将地址锁存起来</li></ul><ol><li>IO/M*（Input and Output/Memory）</li></ol><ul><li>I/O或存储器访问，输出、三态</li><li>该引脚输出高电平时，表示CPU将访问I/O端口，这时地址总线A15～A0提供16位I/O口地址</li><li>该引脚输出低电平时，表示CPU将访问存储器，这时地址总线A19～A0提供20位存储器地址</li></ul><ol><li>WR*（Write）</li></ol><ul><li>写控制，输出、三态、低电平有效</li><li>有效时，表示CPU正在写出数据给存储器或I/O端口</li></ul><ol><li>RD*（Read）</li></ol><ul><li>读控制，输出、三态、低电平有效</li><li>有效时，表示CPU正在从存储器或I/O端口读入数据</li></ul><ol><li>READY</li></ol><ul><li>存储器或I/O口就绪，输入、高电平有效</li><li>在总线操作周期中，8088CPU会在第3个时钟周期的前沿（下降沿）测试该引脚<br>如果测到高有效，CPU直接进入第4个时钟周期<br>如果测到无效，CPU将插入等待周期Tw</li><li>CPU在等待周期中仍然要监测READY信号，有效则进入第4个时钟周期，否则继续插入等待周期Tw</li></ul><ol><li>DEN*（Data Enable）</li></ol><ul><li>数据允许，输出、三态、低电平有效</li><li>有效时，表示当前数据总线上正在传送数据，可利用他来控制对数据总线的驱动</li></ul><ol><li>DT/R*（Data Transmit/Receive）</li></ol><ul><li>数据发送/接收，输出、三态</li><li>该信号表明当前总线上数据的流向<br>高电平时数据自CPU输出（发送）<br>低电平时数据输入CPU（接收）</li></ul><ol><li>SS0*（System Status 0）<br>最小组态模式下的状态输出信号</li></ol><ul><li>它与IO/M<em>和DT/R</em>一道，通过编码指示CPU在最小组态下的8种工作状态：</li></ul><h5 id=3-中断请求和响应引脚><a href=#3-中断请求和响应引脚 class=headerlink title="3. 中断请求和响应引脚"></a>3. 中断请求和响应引脚</h5><ol><li>INTR（Interrupt Request）</li></ol><ul><li>可屏蔽中断请求，输入、高电平有效</li><li>有效时，表示请求设备向CPU申请可屏蔽中断</li><li>该请求的优先级别较低，并可通过关中断指令CLI清除标志寄存器中的IF标志、从而对中断请求进行屏蔽</li></ul><ol><li>INTA*（Interrupt Acknowledge）</li></ol><ul><li>可屏蔽中断响应，输出、低电平有效</li><li>有效时，表示来自INTR引脚的中断请求已被CPU响应，CPU进入中断响应周期</li><li>中断响应周期是连续的两个，每个都发出有效响应信号，以便通知外设他们的中断请求已被响应、并令有关设备将中断向量号送到数据总线</li></ul><ol><li>NMI（Non-Maskable Interrupt）</li></ol><ul><li>不可屏蔽中断请求，输入、上升沿有效</li><li>有效时，表示外界向CPU申请不可屏蔽中断</li><li>该请求的优先级别高于INTR，并且不能在CPU内被屏蔽</li><li>当系统发生紧急情况时，可通过他向CPU申请不可屏蔽中断服务</li></ul><h5 id=4-总线请求和响应引脚><a href=#4-总线请求和响应引脚 class=headerlink title="4. 总线请求和响应引脚"></a>4. 总线请求和响应引脚</h5><ol><li>HOLD</li></ol><ul><li>总线保持（即总线请求），输入、高电平有效</li><li>有效时，表示总线请求设备向CPU申请占有总线</li></ul><ol><li>HLDA（HOLD Acknowledge）</li></ol><ul><li>总线保持响应（即总线响应），输出、高电平有效</li><li>有效时，表示CPU已响应总线请求并已将总线释放</li><li>此时CPU的地址总线、数据总线及具有三态输出能力的控制总线将全面呈现高阻，使总线请求设备可以顺利接管总线</li><li>待到总线请求信号HOLD无效，总线响应信号HLDA也转为无效，CPU重新获得总线控制权</li></ul><ol><li>RESET</li></ol><ul><li>复位请求，输入、高电平有效</li><li>该信号有效，将使CPU回到其初始状态；当它再度返回无效时，CPU将重新开始工作<br>8088/86复位后<br>CS＝FFFFH、IP＝0000H，<br>所以程序入口在物理地址FFFF0H</li></ul><ol><li>CLK（Clock）<br>时钟输入</li></ol><h5 id=5-其它引脚><a href=#5-其它引脚 class=headerlink title="5. 其它引脚"></a>5. 其它引脚</h5><ol><li>MN/MX*（Minimum/Maximum）<br>组态选择，输入</li><li>TEST*<br>测试，输入、低电平有效</li></ol><h5 id=6-8088的基本总线时序><a href=#6-8088的基本总线时序 class=headerlink title="6. 8088的基本总线时序"></a>6. 8088的基本总线时序</h5><ol><li>总线时序描述CPU引脚如何实现总线操作</li></ol><ul><li>描述总线操作的微处理器时序有三级：<br>指令周期 → 总线周期 → 时钟周期</li><li>指令周期是指一条指令经取指、译码、读写操作数到执行完成的过程。若干总线周期组成一个指令周期</li><li>总线周期是指CPU通过总线操作与外部（存储器或I/O端口）进行一次数据交换的过程</li><li>8088的基本总线周期需要4个时钟周期</li><li>总线操作中如何实现CPU与内存、接口芯片间的时序同步是关键</li><li>同步时序：<br>各部件都以系统时钟信号为基准<br>当相互不能配合时，快速部件（CPU）插入等待状态等待慢速部件（I/O和存储器）</li><li>异步时序：<br>CPU与外设接口通过应答联络信号实现同步操作</li></ul><h5 id=7-8088最小组态的总线时序><a href=#7-8088最小组态的总线时序 class=headerlink title="7. 8088最小组态的总线时序"></a>7. 8088最小组态的总线时序</h5><ul><li>存储器读总线周期</li><li>存储器写总线周期</li><li>I/O读总线周期</li><li>I/O写总线周期</li></ul><h5 id=8-8088最大组态中的引脚定义><a href=#8-8088最大组态中的引脚定义 class=headerlink title="8. 8088最大组态中的引脚定义"></a>8. 8088最大组态中的引脚定义</h5><ul><li>有些控制信号不相同，主要是用于输出操作编码信号，由总线控制器8288译码产生系统控制信号：</li><li>LOCK*——总线封锁信号</li><li>S2<em>、S1</em>、S0*——3个状态信号</li><li>QS1、QS0——指令队列状态信号</li><li>RQ<em>/GT0</em>、RQ<em>/GT1</em>——2个总线请求/同意信号</li></ul><h5 id=9-8088最大组态的总线形成><a href=#9-8088最大组态的总线形成 class=headerlink title="9. 8088最大组态的总线形成"></a>9. 8088最大组态的总线形成</h5><p>系统地址总线</p><ol><li>采用三态透明锁存器74LS373和三态单向缓冲器74LS244</li><li>系统数据总线<br>通过三态双向缓冲器74LS245形成和驱动</li><li>系统控制总线<br>主要由总线控制器8288形成<br>MEMR<em>、MEMW</em>、IOR<em>、IOW</em>、INTA*</li></ol><hr><h2 id=第二章-半导体存储器及接口><a href=#第二章-半导体存储器及接口 class=headerlink title="第二章 半导体存储器及接口"></a>第二章 半导体存储器及接口</h2><h5 id=1-半导体存储器的分类><a href=#1-半导体存储器的分类 class=headerlink title="1. 半导体存储器的分类"></a>1. 半导体存储器的分类</h5><ol><li>读写存储器RAM：SRAM.DRAM,NVRAM</li><li>只读存储器ROM</li></ol><ul><li>掩膜ROM：信息制作在芯片中，不可更改</li><li>PROM：允许一次编程，此后不可更改</li><li>EPROM：用紫外光擦除，擦除后可编程；并允许用户多次擦除和编程</li><li>EEPROM（E2PROM）：采用加电方法在线进行擦除和编程，也可多次擦写</li><li>Flash Memory（闪存）：能够快速擦写的EEPROM，但只能按块（Block）擦除</li></ul><h5 id=2-半导体存储器芯片的内部结构><a href=#2-半导体存储器芯片的内部结构 class=headerlink title="2. 半导体存储器芯片的内部结构"></a>2. 半导体存储器芯片的内部结构</h5><ol><li>每个存储单元具有一个唯一的地址，可存储1位（位片结构）或多位（字片结构）二进制数据</li></ol><ul><li>存储容量（bits）与地址、数据线个数有关：<br>芯片的存储容量＝2^M×N<br>＝存储单元数×存储单元的位数</li></ul><ol><li>地址译码电路结构<br>单译码，双译码</li><li>片选和读写控制逻辑<br>片选端CS<em>或CE</em><br>有效时，可以对该芯片进行读写操作<br>输出OE<em><br>控制读操作。有效时，芯片内数据输出<br>该控制端对应系统的读控制线<br>写WE</em><br>控制写操作。有效时，数据进入芯片中<br>该控制端对应系统的写控制线</li></ol><h5 id=4-随机存取存储器><a href=#4-随机存取存储器 class=headerlink title="4. 随机存取存储器"></a>4. 随机存取存储器</h5><ol><li>静态RAM（SRAM）</li></ol><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=/image/02.png alt=02></p><ul><li>SRAM的基本存储单元是触发器电路</li><li>SRAM一般采用“字结构”存储矩阵</li><li>SRAM芯片2114外部特性：<br>10根地址线A9～A0<br>4根数据线I/O4～I/O1<br>片选CS<em><br>读写WE</em></li><li>SRAM芯片6264外部特性<br>28个引脚：<br>13根地址线A12～A0<br>8根数据线D7～D0<br>片选CS1<em>、CS2<br>读写WE</em>、OE*</li></ul><ol><li>动态RAM</li></ol><ul><li>每个存储单元存放一位，芯片内每个位单元具有独立地址</li><li>需要8个存储芯片构成一个字节单元，每个</li><li>DRAM芯片4116外部特性</li><li><ul><li>7根地址线A6～A0,</li></ul></li><li><ul><li>1根数据输入线DIN,</li></ul></li><li><ul><li>1根数据输出线DOUT,</li></ul></li><li><ul><li>行地址选通RAS*,</li></ul></li><li><ul><li>列地址选通CAS*,</li></ul></li><li><ul><li>读写控制WE*.</li></ul></li><li>DRAM 4116的刷新:采用“仅行地址有效”方法刷新</li><li>DRAM芯片2164外部特性</li><li><ul><li>8根地址线A7～A0<br>1根数据输入线DIN<br>1根数据输出线DOUT<br>行地址选通RAS<em><br>列地址选通CAS</em><br>读写控制WE*</li></ul></li></ul><h5 id=5-只读存储器><a href=#5-只读存储器 class=headerlink title="5. 只读存储器"></a>5. 只读存储器</h5><ol><li>EPROM 2716</li></ol><ul><li>11根地址线A10～A0<br>8根数据线DO7～DO0<br>片选/编程CE<em>/PGM<br>读写OE</em><br>编程电压VPP</li></ul><ol><li>EPROM 2764</li></ol><ul><li>13根地址线A12～A0<br>8根数据线D7～D0<br>片选CE<em><br>编程PGM</em><br>读写OE*<br>编程电压VPP</li></ul><ol><li>EEPROM<br>用加电方法，进行在线（无需拔下，直接在电路中）擦写（擦除和编程一次完成）</li><li>EEPROM 2717A</li></ol><ul><li>11根地址线A10～A0<br>8根数据线I/O7～I/O0<br>片选CE<em><br>读写OE</em>、WE<em><br>状态输出RDY/BUSY</em></li></ul><ol><li>EEPROM 2864A</li></ol><ul><li>13根地址线A12～A0<br>8根数据线I/O7～I/O0<br>片选CE<em><br>读写OE</em>、WE*</li></ul><h5 id=6-半导体存储器与CPU的连接><a href=#6-半导体存储器与CPU的连接 class=headerlink title="6. 半导体存储器与CPU的连接"></a>6. 半导体存储器与CPU的连接</h5><ol><li>存储芯片的数据线</li></ol><ul><li>若芯片的数据线正好8根：<br>一次可从芯片中访问到8位数据，全部数据线与系统的8位数据总线相连</li><li>若芯片的数据线不足8根：一次不能从一个芯片中访问到8位数据，“位扩充”</li></ul><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=/image/03.png alt=03></p><ol><li>存储芯片的地址线</li></ol><ul><li>芯片的地址线通常应全部与系统的低位地址总线相连</li><li>寻址时，这部分地址的译码是在存储芯片内完成的，我们称为“<strong>片内译码</strong>”</li></ul><ol><li>存储芯片的片选端</li></ol><ul><li>存储系统常需利用多个存储芯片扩充容量，也就是扩充了存储器地址范围</li><li>进行“地址扩充”，需要利用存储芯片的片选端对多个存储芯片（组）进行寻址</li><li>这个寻址方法，主要通过将存储芯片的片选端与系统的高位地址线相关联来实现</li><li>这种扩充简称为“地址扩充”或“字扩充”</li></ul><p><strong>译码和译码器</strong></p><p><strong>全译码</strong></p><ol><li>所有的系统地址线均参与对存储单元的译码寻址</li><li>包括低位地址线对芯片内各存储单元的译码寻址（片内译码），高位地址线对存储芯片的译码寻址（片选译码）</li><li>采用全译码，每个存储单元的地址都是唯一的，不存在地址重复</li><li>译码电路可能比较复杂、连线也较多</li></ol><p><strong>部分译码</strong></p><ol><li>只有部分（高位）地址线参与对存储芯片的译码</li><li>每个存储单元将对应多个地址（地址重复），需要选取一个可用地址</li><li>可简化译码电路的设计</li><li>但系统的部分地址空间将被浪费</li></ol><p><strong>线选译码</strong></p><ul><li>只用少数几根高位地址线进行芯片的译码，且每根负责选中一个芯片（组）</li><li>虽构成简单，但地址空间严重浪费，必然会出现地址重复</li><li>一个存储地址会对应多个存储单元</li><li>多个存储单元共用的存储地址不应使用</li></ul><ol><li>存储芯片的读写控制线</li></ol><ul><li>芯片OE*与系统的读命令线相连<br>当芯片被选中、且读命令有效时，存储芯片将开放并驱动数据到总线</li><li>芯片WE*与系统的写命令线相连<br>当芯片被选中、且写命令有效时，允许总线数据写入存储芯片</li></ul><h5 id=7-存储芯片与CPU的配合><a href=#7-存储芯片与CPU的配合 class=headerlink title="7. 存储芯片与CPU的配合"></a>7. 存储芯片与CPU的配合</h5><ol><li>总线驱动</li></ol><ul><li>CPU的总线驱动能力有限</li><li>单向传送的地址和控制总线，可采用三态锁存器和三态单向驱动器等来加以锁存和驱动</li><li>双向传送的数据总线，可以采用三态双向驱动器来加以驱动</li></ul><ol><li>时序配合</li></ol><ul><li>分析存储器的存取速度是否满足CPU总线时序的要求<br>如果不能满足：考虑更换芯片，总线周期中插入等待状态TW</li></ul><h5 id=8-8086存储器组织><a href=#8-8086存储器组织 class=headerlink title="8. 8086存储器组织"></a>8. 8086存储器组织</h5><ol><li>寻址空间(20位地址线)<br>220＝1M bytes的存储器寻址空间<br>分段的概念</li><li>分段组织<br>段寄存器的16位值左移4位，得到的20位值加上16位的偏移量。</li><li>字与字节访问<br>AD0 信号和BHE信号组合，选择奇偶字节或字。</li></ol><hr><h2 id=第三章-基本输入输出接口><a href=#第三章-基本输入输出接口 class=headerlink title="第三章 基本输入输出接口"></a>第三章 基本输入输出接口</h2><h3 id=I-O接口概述><a href=#I-O接口概述 class=headerlink title=I/O接口概述></a>I/O接口概述</h3><ul><li>I/O接口是位于系统与外设间、用来协助完成数据传送和控制任务的逻辑电路</li><li>PC机系统板的可编程接口芯片、I/O总线槽的电路板（适配器）都是接口电路</li></ul><ol><li>信号转换<br>对信号的形式和数据的格式进行变换<br>微机直接处理：数字量、开关量、脉冲量</li><li>数据缓冲<br>对输入输出数据进行缓冲和锁存<br>输出锁存缓冲环节，输入锁存缓冲环节</li><li>对I/O端口进行寻址</li><li>与CPU和I/O设备进行联络</li></ol><h3 id=I-O接口的典型结构><a href=#I-O接口的典型结构 class=headerlink title=I/O接口的典型结构></a>I/O接口的典型结构</h3><h5 id=1-接口电路的内部结构><a href=#1-接口电路的内部结构 class=headerlink title="1. 接口电路的内部结构"></a>1. 接口电路的内部结构</h5><ul><li>数据寄存器<br>保存外设给CPU和CPU发往外设的数据</li><li>状态寄存器<br>保存外设或接口电路的状态</li><li>控制寄存器<br>保存CPU给外设或接口电路的命令</li></ul><h5 id=2-接口电路的外部特性><a href=#2-接口电路的外部特性 class=headerlink title="2. 接口电路的外部特性"></a>2. 接口电路的外部特性</h5><ul><li>面向CPU一侧的信号：用于与CPU连接、主要是数据、地址和控制信号</li><li>面向外设一侧的信号：用于与外设连接、提供的信号种类繁多、功能定义、时序及有效电平等差异较大</li></ul><h5 id=3-接口电路芯片的分类><a href=#3-接口电路芯片的分类 class=headerlink title="3. 接口电路芯片的分类"></a>3. 接口电路芯片的分类</h5><ul><li>通用接口芯片<br>支持通用的数据输入输出和控制的接口芯片</li><li>面向外设的专用接口芯片<br>针对某种外设设计、与该种外设接口</li><li>面向微机系统的专用接口芯片<br>与CPU和系统配套使用，以增强其总体功能</li></ul><h5 id=4-接口电路的可编程性><a href=#4-接口电路的可编程性 class=headerlink title="4. 接口电路的可编程性"></a>4. 接口电路的可编程性</h5><h3 id=3-I-O端口的编址><a href=#3-I-O端口的编址 class=headerlink title="3. I/O端口的编址"></a>3. I/O端口的编址</h3><ol><li>数据寄存器、状态寄存器和控制寄存器占有的I/O地址常依次被称为数据端口、状态端口和控制端口，用于保存数据、状态和控制信息</li><li>两类编排形式</li></ol><ul><li>I/O端口独立编址</li></ul><p><strong>优点</strong>：</p><ul><li>I/O端口的地址空间独立</li><li>控制和地址译码电路相对简单</li><li>专门的I/O指令使程序清晰易读</li></ul><p><strong>缺点</strong>：</p><ul><li>I/O指令没有存储器指令丰富</li><li>I/O端口与存储器统一编址</li></ul><p><strong>优点：</strong></p><ul><li>不需要专门的I/O指令</li><li>I/O数据存取与存储器数据存取一样灵活</li></ul><p><strong>缺点：</strong></p><ul><li>I/O端口要占去部分存储器地址空间</li><li>程序不易阅读（不易分清访存和访问外设）</li></ul><h3 id=4-8088-8086的输入输出指令><a href=#4-8088-8086的输入输出指令 class=headerlink title="4. 8088/8086的输入输出指令"></a>4. 8088/8086的输入输出指令</h3><figure class="highlight x86asm"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre></td><td class=code><pre><span class=line>输入指令</span><br><span class=line><span class=keyword>IN</span> <span class=built_in>AL</span>,i8	<span class=comment>;字节输入，直接寻址</span></span><br><span class=line><span class=keyword>IN</span> <span class=built_in>AL</span>,<span class=built_in>DX</span>	<span class=comment>;字节输入，间接寻址</span></span><br><span class=line><span class=keyword>IN</span> <span class=built_in>AX</span>,i8	<span class=comment>;字输入，直接寻址</span></span><br><span class=line><span class=keyword>IN</span> <span class=built_in>AX</span>,<span class=built_in>DX</span>	<span class=comment>;字输入，间接寻址</span></span><br><span class=line>输出指令</span><br><span class=line><span class=keyword>OUT</span> i8,<span class=built_in>AL</span>	<span class=comment>;字节输出，直接寻址</span></span><br><span class=line><span class=keyword>OUT</span> <span class=built_in>DX</span>,<span class=built_in>AL</span>	<span class=comment>;字节输出，间接寻址</span></span><br><span class=line><span class=keyword>OUT</span> i8,<span class=built_in>AX</span>	<span class=comment>;字输出，直接寻址</span></span><br><span class=line><span class=keyword>OUT</span> <span class=built_in>DX</span>,<span class=built_in>AX</span>	<span class=comment>;字输出，间接寻址</span></span><br><span class=line></span><br><span class=line></span><br></pre></td></tr></table></figure><h5 id=1-8088-8086的I-O端口><a href=#1-8088-8086的I-O端口 class=headerlink title="1. 8088/8086的I/O端口"></a>1. 8088/8086的I/O端口</h5><ul><li>8086用于寻址外设端口的地址线为16条，端口最多为216＝65536（64K）个，端口号（端口地址）为0000H ~ FFFFH</li><li>每个端口地址对应一个字节空间</li></ul><ol><li>寻址方式</li></ol><ul><li>直接寻址：只用于寻址00H ~ FFH前256个端口，操作数i8表示端口号</li><li>间接寻址：可用于寻址全部64K个端口，DX寄存器的值就是端口号，对端口号大于FFH的端口只能采用间接寻址方式</li></ul><ol><li>数据交换</li></ol><ul><li>如果输入输出一个字节，使用AL寄存器</li><li>如果输入输出一个字，使用AX寄存器</li></ul><h3 id=5-I-O地址的译码><a href=#5-I-O地址的译码 class=headerlink title="5. I/O地址的译码"></a>5. I/O地址的译码</h3><h3 id=6-数据传送方式><a href=#6-数据传送方式 class=headerlink title="6. 数据传送方式"></a>6. 数据传送方式</h3><ul><li>程序控制下的数据传送：通过CPU执行程序中的I/O指令来完成传送，又分为：<strong>无条件传送、查询传送、中断传送</strong></li><li>直接存储器存取（DMA）——传送请求由外设向DMA控制器（DMAC）提出，后者向CPU申请总线，最后DMAC利用系统总线来完成外设和存储器间的数据传送</li><li>I/O处理机——CPU委托专门的I/O处理机来管理外设，完成传送和相应的数据处理</li></ul><h4 id=1-无条件传送方式及其接口><a href=#1-无条件传送方式及其接口 class=headerlink title="1. 无条件传送方式及其接口"></a>1. 无条件传送方式及其接口</h4><ul><li>在CPU与慢速变化的设备（或简单设备）交换数据时，可以认为它们总是<strong>处于“就绪”状态</strong>，随时可以进行数据传送</li><li>适合于简单设备，如LED数码管、开关等</li></ul><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre></td><td class=code><pre><span class=line>next:	mov dx,8000h	;DX指向数据端口</span><br><span class=line>		in al,dx	;从输入端口读开关状态</span><br><span class=line>		not al	;反相</span><br><span class=line>		out dx,al	;送输出端口显示</span><br><span class=line>		call delay	;调子程序延时</span><br><span class=line>		jmp next	;重复</span><br><span class=line></span><br><span class=line></span><br></pre></td></tr></table></figure><h5 id=2-查询传送方式及其接口><a href=#2-查询传送方式及其接口 class=headerlink title="2. 查询传送方式及其接口"></a>2. 查询传送方式及其接口</h5><ul><li>CPU需要先了解（<strong>查询</strong>）外设的工作状态，然后在外设可以交换信息的情况下（就绪）实现数据输入或输出</li><li>对多个外设的情况，则CPU按一定顺序依次查询（<strong>轮询</strong>）</li><li>查询传送的特点是：工作可靠，适用面宽，但传送效率低</li></ul><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre></td><td class=code><pre><span class=line>//查询输入接口程序示例</span><br><span class=line>	mov dx,8000h	;DX指向状态端口</span><br><span class=line>    status:	in al,dx	;读状态端口</span><br><span class=line>	test al,01h	;测试标志位D0</span><br><span class=line>	jz status	;D0＝0，未就绪，继续查询</span><br><span class=line>	inc dx	;D0＝1，就绪，DX指向数据端口</span><br><span class=line>	in al,dx	;从数据端口输入数据</span><br><span class=line></span><br><span class=line></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre></td><td class=code><pre><span class=line>//查询输出接口程序示例</span><br><span class=line>  mov dx,8000h	;DX指向状态端口</span><br><span class=line>  status:	in al,dx	;读取状态端口的状态数据</span><br><span class=line>	test al,80h	;测试标志位D7</span><br><span class=line>	jnz status	;D7＝1，未就绪，继续查询</span><br><span class=line>	inc dx	;D7＝0，就绪，DX指向数据端口</span><br><span class=line>	mov al,buf	;变量buf送AL</span><br><span class=line>	out dx,al	;将数据输出给数据端口</span><br><span class=line></span><br><span class=line></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre></td><td class=code><pre><span class=line>//查询方式的EEPROM编程</span><br><span class=line>next:	mov al,55h	;写入内容＝55H</span><br><span class=line>		mov [bx],al	;写入存储单元</span><br><span class=line>		nop	;空操作指令，起延时作用</span><br><span class=line>		nop</span><br><span class=line>next1:	in al,dx	;查询状态口</span><br><span class=line>		test al,01h	;测试D0</span><br><span class=line>		jz next1	;D0＝0，芯片还在写入</span><br><span class=line>		inc bx	;D0＝1，写毕，指针移动</span><br><span class=line>		loop next	;循环至全部字节写完</span><br><span class=line></span><br><span class=line></span><br></pre></td></tr></table></figure><h5 id=3-中断传送方式><a href=#3-中断传送方式 class=headerlink title="3. 中断传送方式"></a>3. 中断传送方式</h5><ul><li>中断请求 =&gt;中断响应=&gt;关中断=&gt;断点保护=&gt;中断识别=&gt;现场保护=&gt;中断服务=&gt;恢复现场=&gt;开中断=&gt;中断返回</li><li>中断传送是一种效率更高的程序传送方式</li><li>进行传送的中断服务程序是预先设计好的</li><li>中断请求是外设随机向CPU提出的</li></ul><h5 id=4-DMA传送方式><a href=#4-DMA传送方式 class=headerlink title="4. DMA传送方式"></a>4. DMA传送方式</h5><ul><li>CPU对DMA控制器进行初始化设置</li><li>外设、DMAC和CPU三者通过应答信号建立联系：CPU将总线交给DMAC控制</li></ul><ol><li>DMA传送<br>DMA读存储器：存储器 → 外设<br>DMA写存储器：存储器 ← 外设</li><li>自动增减地址和计数，判断传送完成否</li></ol><p><strong>传送方式的比较</strong></p><ul><li>无条件传送：慢速外设需与CPU保持同步</li><li>查询传送： 简单实用，效率较低</li><li>中断传送：外设主动，可与CPU并行工作，但每次传送需要大量额外时间开销</li><li>DMA传送：DMAC控制，外设直接和存储器进行数据传送，适合大量、快速数据传送</li></ul><hr><h2 id=第四章-中断控制接口><a href=#第四章-中断控制接口 class=headerlink title="第四章 中断控制接口"></a>第四章 中断控制接口</h2><h3 id=1-8088中断系统><a href=#1-8088中断系统 class=headerlink title="1. 8088中断系统"></a>1. 8088中断系统</h3><ul><li>8088的中断系统采用向量中断机制</li><li>能够处理256个中断</li><li>用中断向量号0～255区别</li><li>可屏蔽中断还需要借助专用中断控制器Intel 8259A实现优先权管理</li></ul><h5 id=1-8088的中断类型><a href=#1-8088的中断类型 class=headerlink title="1. 8088的中断类型"></a>1. 8088的中断类型</h5><ul><li>内部中断:除法错中断、指令中断、溢出中断、单步中断</li><li>外部中断：非屏蔽中断、可屏蔽中断</li></ul><h5 id=2-8088的中断响应过程><a href=#2-8088的中断响应过程 class=headerlink title="2. 8088的中断响应过程"></a>2. 8088的中断响应过程</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=/image/04.png alt=04></p><ul><li>8088各种中断源的优先权，实际上是指被识别出来的先后</li><li>多种中断同时请求时，最先响应的则可能是单步中断或NMI中断</li></ul><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=/image/05.png alt=05></p><h5 id=3-8088的中断向量表><a href=#3-8088的中断向量表 class=headerlink title="3. 8088的中断向量表"></a>3. 8088的中断向量表</h5><ul><li>中断向量：中断服务程序的入口地址（首地址）</li><li>逻辑地址含有段地址CS和偏移地址IP（32位）</li><li>每个中断向量的低字是偏移地址、高字是段地址，需占用4个字节</li><li>8088微处理器从物理地址00000H开始，依次安排各个中断向量，向量号也从0开始</li><li>256个中断占用1KB区域，就形成中断向量表</li><li>向量号为N的中断向量的物理地址＝N×4</li></ul><h3 id=2-内部中断服务程序><a href=#2-内部中断服务程序 class=headerlink title="2. 内部中断服务程序"></a>2. 内部中断服务程序</h3><h5 id=1-内部中断服务程序><a href=#1-内部中断服务程序 class=headerlink title="1. 内部中断服务程序"></a>1. 内部中断服务程序</h5><p>编写80H号中断服务程序<br>功能：显示以“0”结尾字符串的功能,利用显示器功能调用INT 10H，字符串缓冲区首地址为入口参数，DS:DX（段地址：偏移地址）传递参数</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br></pre></td><td class=code><pre><span class=line>    intoff	dw ?//偏移</span><br><span class=line>	intseg	dw ?//段基址</span><br><span class=line>	intmsg	db ‘A Instruction Interrupt !’//字符串</span><br><span class=line>	db 0dh,0ah,0</span><br><span class=line>	//保存中断向量</span><br><span class=line>    mov ax,3580h//AH＝35H，AL=中断向量号</span><br><span class=line>	int 21h //DOS功能调用INT 21H</span><br><span class=line>	mov intoff,bx	;保存偏移地址</span><br><span class=line>	mov intseg,es	;保存段基地址</span><br><span class=line>    //设置中断向量</span><br><span class=line>    //设置中断向量（DOS功能调用INT 21H）</span><br><span class=line>    push ds</span><br><span class=line>    mov dx,offset new80h</span><br><span class=line>    mov ax,seg new80h</span><br><span class=line>    mov ds,ax</span><br><span class=line>    mov ax,2580h//AH=25，AL＝中断向量号</span><br><span class=line>    int 21h</span><br><span class=line>    pop ds</span><br><span class=line>    //调用中断服务程序，设置入口参数：	//DS＝段地址（已设置）</span><br><span class=line>//；	DX＝偏移地址</span><br><span class=line>    mov dx,offset intmsg</span><br><span class=line>	int 80h 	；调用80H中断服务程序</span><br><span class=line>//主程序结束</span><br><span class=line>    mov dx,intoff</span><br><span class=line>	mov ax,intseg</span><br><span class=line>	mov ds,ax</span><br><span class=line>	mov ax,2580h</span><br><span class=line>	int 21h</span><br><span class=line>	mov ax,4c00h</span><br><span class=line>	int 21h</span><br><span class=line>//进入中断服务程序</span><br><span class=line>new80h	proc</span><br><span class=line>	sti	;开中断</span><br><span class=line>	push ax	;保护寄存器</span><br><span class=line>	push bx</span><br><span class=line>	push si</span><br><span class=line>	mov si,dx</span><br><span class=line>	//显示字符串</span><br><span class=line>new1:mov al,[si]</span><br><span class=line>	cmp al,0</span><br><span class=line>	jz new2</span><br><span class=line>	mov bx,0</span><br><span class=line>	mov ah,0eh</span><br><span class=line>	int 10h</span><br><span class=line>	inc si</span><br><span class=line>	jmp new1</span><br><span class=line>	//退出中断服务程序</span><br><span class=line>	new2:	pop si	;恢复寄存器</span><br><span class=line>		pop bx</span><br><span class=line>		pop ax</span><br><span class=line>		iret	;中断返回</span><br><span class=line>	new80h	endp</span><br><span class=line></span><br><span class=line></span><br></pre></td></tr></table></figure><h3 id=3-8259A中断控制器><a href=#3-8259A中断控制器 class=headerlink title="3. 8259A中断控制器"></a>3. 8259A中断控制器</h3><h5 id=1-8259A的内部结构和引脚><a href=#1-8259A的内部结构和引脚 class=headerlink title="1. 8259A的内部结构和引脚"></a>1. 8259A的内部结构和引脚</h5><ol><li>中断控制</li></ol><ul><li>中断请求寄存器IRR<br>保存8条外界中断请求信号IR0～IR7的请求状态<br>Di位为1表示IRi引脚有中断请求；为0表示无请求</li><li>中断服务寄存器ISR<br>保存正在被8259A服务着的中断状态<br>Di位为1表示IRi中断正在服务中；为0表示没有被服务</li><li>中断屏蔽寄存器IMR<br>保存对中断请求信号IR的屏蔽状态<br>Di位为1表示IRi中断被屏蔽（禁止）；为0表示允许</li></ul><ol><li>与处理器接口</li></ol><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=/image/06.png alt=06></p><ol><li>中断级连</li></ol><ul><li>一个系统中，8259A可以级连，有一个主8259A，若干个（最多8个）从8259A</li><li>级连时，主8259A的三条级连线CAS0～CAS2作为输出线，连至每个从8259A的CAS0～CAS2</li><li>SP<em>/EN</em>在非缓冲方式下，规定该8259A是主片（SP<em>＝1）还是从片（SP</em>＝0）</li></ul><h5 id=3-8259A的工作方式><a href=#3-8259A的工作方式 class=headerlink title="3. 8259A的工作方式"></a>3. 8259A的工作方式</h5><ol><li>设置优先权方式</li></ol><ul><li>普通全嵌套方式</li><li>特殊全嵌套方式</li><li>优先权自动循环方式</li></ul><ol><li>结束中断处理方式</li></ol><ul><li>8259A利用中断服务寄存器ISR判断：<br>某位为1，表示正在进行中断服务；<br>该位为0，就是该中断结束服务。</li><li>自动中断结束方式</li><li>普通中断结束方式，配合全嵌套优先权方式使用</li><li>特殊中断结束方式，配合循环优先权方式使用</li></ul><ol><li>屏蔽中断源方式</li></ol><ul><li>普通屏蔽方式<br>将IMR的Di位置1，则对应的中断IRi被屏蔽</li><li>特殊屏蔽方式<br>将IMR的Di位置1，对应的中断IRi被屏蔽的同时，使ISR的Di位置0</li></ul><ol><li>中断触发方式</li></ol><ul><li>边沿触发方式</li><li>电平触发方式</li></ul><ol><li>数据线连接方式</li></ol><ul><li>缓冲方式<br>8259A的数据线需加缓冲器予以驱动<br>8259A把SP<em>/EN</em>引脚作为输出端，输出允许信号，用以锁存或开启缓冲器</li><li>非缓冲方式<br>SP<em>/EN</em>引脚为输入端<br>若8259A级连，由其确定是主片或从片</li></ul><h5 id=4-8259A的编程><a href=#4-8259A的编程 class=headerlink title="4. 8259A的编程"></a>4. 8259A的编程</h5><ol><li>初始化命令字ICW</li></ol><ul><li>初始化命令字ICW最多有4个</li><li>8259A在开始工作前必须写入</li><li>必须按照ICW1～ICW4顺序写入</li><li>ICW1和ICW2是必须送的</li><li>ICW3和ICW4由工作方式决定</li></ul><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br></pre></td><td class=code><pre><span class=line>中断控制器的初始化程序段</span><br><span class=line>//初始化主片8259A</span><br><span class=line>		mov al,11h	;写入ICW1</span><br><span class=line>		out 20h,al</span><br><span class=line>		jmp intr1</span><br><span class=line>intr1:	mov al,08h	;写入ICW2</span><br><span class=line>		out 21h,al</span><br><span class=line>		jmp intr2</span><br><span class=line>intr2:	mov al,04h	;写入ICW3</span><br><span class=line>		out 21h,al</span><br><span class=line>		jmp intr3</span><br><span class=line>intr3:	mov al,1h	;写入ICW4</span><br><span class=line>		out 21h,al</span><br><span class=line>//初始化从片8259A</span><br><span class=line>		mov al,11h	;写入ICW1</span><br><span class=line>		out 0a0h,al</span><br><span class=line>		jmp intr5</span><br><span class=line>intr5:	mov al,70h	;写入ICW2</span><br><span class=line>		out 0a1h,al</span><br><span class=line>		jmp intr6</span><br><span class=line>intr6:	mov al,02h	;写入ICW3</span><br><span class=line>		out 0a1h,al</span><br><span class=line>		jmp intr7</span><br><span class=line>intr7:	mov al, 01h	;写入ICW4</span><br><span class=line>		out 0a1h,al</span><br><span class=line></span><br><span class=line></span><br></pre></td></tr></table></figure><ol><li>操作命令字OCW</li></ol><ul><li>OCW共有3个：OCW1～OCW3</li><li>写入时没有顺序要求，需要哪个OCW就写入那个OCW</li></ul><p><strong>应用注意事项</strong></p><ul><li>利用上升沿做为中断请求IRQ的有效信号</li><li>IRQ0～IRQ7的中断向量号依次为08H～0FH，IRQ8～IRQ15依次为70H～77H</li><li>采用普通全嵌套优先权方式，中断优先权从高到低顺序为IRQ0～IRQ2、IRQ8～IRQ15、IRQ3～IRQ7，且不能改变</li></ul><h5 id=5-外部中断服务程序><a href=#5-外部中断服务程序 class=headerlink title="5. 外部中断服务程序"></a>5. 外部中断服务程序</h5><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br></pre></td><td class=code><pre><span class=line>/*8259A的IRQ0（向量号为08H）中断请求来自定时器8253，每隔55ms产生一次</span><br><span class=line></span><br><span class=line>本程序的08H号中断服务程序，每次中断显示一串信息，显示10次</span><br><span class=line>*/</span><br><span class=line>	intmsg	db ‘A 8259A Interrupt !’</span><br><span class=line>		         db 0dh,0ah,0</span><br><span class=line>	counter	db 0</span><br><span class=line>	mov ax,3508h</span><br><span class=line>	int 21h</span><br><span class=line>	push bx	;保存偏移地址</span><br><span class=line>	push es	;保存段基地址</span><br><span class=line>	//设置中断向量</span><br><span class=line>		cli</span><br><span class=line>		push ds</span><br><span class=line>		mov dx,offset new08h</span><br><span class=line>		mov ax,seg new08h</span><br><span class=line>		mov ds,ax</span><br><span class=line>		mov ax,2508h</span><br><span class=line>		int 21h</span><br><span class=line>		pop ds</span><br><span class=line>		//设置中断寄存器</span><br><span class=line>		in al,21h</span><br><span class=line>		push ax</span><br><span class=line>		and al,0feh	         ;允许IRQ0</span><br><span class=line>		out 21h,al</span><br><span class=line>		mov counter,0	;设置中断次数初值</span><br><span class=line>		sti		         ;开中断</span><br><span class=line>		//循环等待中断</span><br><span class=line>start1:	cmp counter,10</span><br><span class=line>		 jb start1	          ;中断10次退出</span><br><span class=line>		 //子程序结束</span><br><span class=line>		 		cli</span><br><span class=line>		pop ax</span><br><span class=line>		out 21h,al</span><br><span class=line>		pop dx</span><br><span class=line>		pop ds</span><br><span class=line>		mov ax,2508h</span><br><span class=line>		int 21h</span><br><span class=line>		sti</span><br><span class=line>		mov ax,4c00h</span><br><span class=line>		int 21h</span><br><span class=line>        //进入中断服务程序</span><br><span class=line>new08h	proc</span><br><span class=line>		  sti	         ;开中断</span><br><span class=line>		  push ax	;保护寄存器</span><br><span class=line>		  push bx</span><br><span class=line>		  push ds</span><br><span class=line>		  mov ax,data</span><br><span class=line>		  mov ds,ax	;设置数据段DS</span><br><span class=line>//中断处理</span><br><span class=line>		inc counter</span><br><span class=line>		mov si,offset intmsg	;显示信息</span><br><span class=line>		call dpstri</span><br><span class=line>//</span><br><span class=line>		     mov al,20h</span><br><span class=line>		     out 20h,al</span><br><span class=line>		     pop ds	       ;恢复寄存器</span><br><span class=line>		     pop bx</span><br><span class=line>		     pop ax</span><br><span class=line>		     iret	       ;中断返回</span><br><span class=line>new08h endp</span><br><span class=line>//显示字符串</span><br><span class=line>dpstri proc	        ;显示字符串子程序</span><br><span class=line>		 push ax</span><br><span class=line>		 push bx</span><br><span class=line>dps1:	 lodsb</span><br><span class=line>		 cmp al,0</span><br><span class=line>		 jz dps2</span><br><span class=line>//显示字符串</span><br><span class=line>		 mov bx,0</span><br><span class=line>		 mov ah,0eh</span><br><span class=line>		 int 10h</span><br><span class=line>		 jmp dps1</span><br><span class=line>dps2:	 pop bx</span><br><span class=line>		 pop ax</span><br><span class=line>		 ret</span><br><span class=line>dpstri endp</span><br><span class=line></span><br><span class=line></span><br><span class=line></span><br><span class=line></span><br><span class=line></span><br></pre></td></tr></table></figure><h2 id=第五章-定时计数控制接口><a href=#第五章-定时计数控制接口 class=headerlink title="第五章 定时计数控制接口"></a>第五章 定时计数控制接口</h2><h3 id=8253-8254定时计数器><a href=#8253-8254定时计数器 class=headerlink title=8253/8254定时计数器></a>8253/8254定时计数器</h3><ul><li>3个独立的16位计数器通道</li><li>每个计数器有6种工作方式</li><li>按二进制或十进制（BCD码）计数</li></ul><ol><li>计数器结构分析</li></ol><ul><li>计数初值存于预置寄存器；</li><li>在计数过程中，减法计数器的值不断递减，而预置寄存器中的预置不变。</li><li>输出锁存器用于写入锁存命令时，锁定当前计数值</li></ul><ol><li>计数器的3个引脚</li></ol><ul><li>CLK时钟输入信号——在计数过程中，此引脚上每输入一个时钟信号（下降沿），计数器的计数值减1</li><li>GATE门控输入信号——控制计数器工作，可分成电平控制和上升沿控制两种类型</li><li>OUT计数器输出信号——当一次计数过程结束（计数值减为0），OUT引脚上将产生一个输出信号</li></ul><h3 id=8253-8254的工作方式><a href=#8253-8254的工作方式 class=headerlink title=8253/8254的工作方式></a>8253/8254的工作方式</h3><ul><li>方式0 计数结束中断</li><li>方式1 可编程单稳脉冲</li><li>方式2 频率发生器（分频器）</li><li>方式3 方波发生器</li><li>方式4 软件触发选通信号</li><li>方式5 硬件触发选通信号</li></ul><ol><li>注意</li></ol><ul><li>处理器写入8253的计数初值只是写入了预置寄存器，之后到来的第一个CLK输入脉冲（需先由低电平变高，再由高变低）才将预置寄存器的初值送到减1计数器。</li><li>从第二个CLK信号的下降沿，计数器才真正开始减1计数。</li></ul><h3 id=8253-8254的编程><a href=#8253-8254的编程 class=headerlink title=8253/8254的编程></a>8253/8254的编程</h3><hr><h2 id=第六章-DMA控制接口><a href=#第六章-DMA控制接口 class=headerlink title="第六章 DMA控制接口"></a>第六章 DMA控制接口</h2><h3 id=DMA控制器8237A><a href=#DMA控制器8237A class=headerlink title=DMA控制器8237A></a>DMA控制器8237A</h3><ul><li>每个8237A芯片有4个DMA通道，就是有4个DMA控制器</li><li>每个DMA通道具有不同的优先权</li><li>每个DMA通道可以分别允许和禁止</li><li>每个DMA通道有4种工作方式</li><li>一次传送的最大长度可达64KB</li><li>多个8237A芯片可以级连，扩展通道数</li></ul><h5 id=1-8237A的内部结构和引脚><a href=#1-8237A的内部结构和引脚 class=headerlink title="1. 8237A的内部结构和引脚"></a>1. 8237A的内部结构和引脚</h5><ol><li>请求与响应信号</li></ol><ul><li>DREQ0～DREQ3：DMA通道请求</li><li>HRQ：总线请求</li><li>HLDA：总线响应</li><li>DACK0～DACK3：DMA通道响应</li></ul><ol><li>DMA传送控制信号</li></ol><ul><li>A0～A7：地址线。输出低8位存储器地址。<br>DB0～DB7：数据线。输出高8位存储器地址</li><li>ADSTB：地址选通</li><li>AEN：地址允许。</li><li>MEMR*：存储器读</li><li>MEMW*：存储器写</li><li>IOR*：I/O读</li><li>IOW*：I/O写</li><li>READY：准备好</li><li>EOP*：过程结束。DMA传送过程结束，输出一个低有效脉冲。</li></ul><ol><li>处理器接口信号</li></ol><ul><li>DB0～DB7：数据线。</li><li>A0～A3：地址线。</li><li>CS*：片选</li><li>IOR*：I/O读。读取8237A内部寄存器。</li><li>IOW*：I/O写。写入8237A内部寄存器。</li><li>CLK：时钟。控制芯片内部操作和数据传输。</li><li>RESET：复位。使8237A处于初始状态。</li></ul><p><strong>8237A的两种工作状态</strong></p><ul><li>空闲周期：<br>作为接口电路，受CPU控制的工作状态</li><li>有效周期：<br>作为DMAC控制DMA传送的工作状态</li></ul><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=/image/07.png alt=07></p><h5 id=2-8237A的工作时序·空闲周期><a href=#2-8237A的工作时序·空闲周期 class=headerlink title="2. 8237A的工作时序·空闲周期"></a>2. 8237A的工作时序·空闲周期</h5><p><strong>DMA传送时序</strong></p><ul><li>S1状态——输出16位存储器地址<br>AEN输出高电平，表示DMA传送</li><li>S2状态——输出DMA响应信号和控制信号<br>DMA读：MEMR<em>和IOW</em>有效<br>DMA写：IOR<em>和MEMW</em>有效</li><li>S3和Sw状态——检测数据传送是否能够完成，决定是否插入等待状态Sw</li><li>S4状态——完成数据传送</li></ul><h5 id=3-8237A的工作方式><a href=#3-8237A的工作方式 class=headerlink title="3. 8237A的工作方式"></a>3. 8237A的工作方式</h5><ol><li>DMA传送方式</li></ol><ul><li>单字节传送方式：一次传送一个字节，效率略低，<br>DMA传送之间CPU有机会重新获取总线控制权</li><li>数据块传送方式：一次请求传送一个数据块，效率高，<br>整个DMA传送期间CPU长时间无法控制总线</li><li>请求传送方式<br>DREQ信号有效就连续传送数据<br>DREQ信号无效，DMA传送被暂时中止，8237A释放总线，CPU可继续操作</li><li>级连方式</li></ul><ol><li>DMA传送类型<br>· DMA读 · DMA写 · DMA检验</li><li>DMA通道的优先权方式</li></ol><ul><li>固定优先权方式——优先权固定：0，1，2.。。</li><li>循环优先权方式——优先权循环变化</li></ul><ol><li>自动初始化方式</li></ol><h5 id=4-8237A的寄存器><a href=#4-8237A的寄存器 class=headerlink title="4. 8237A的寄存器"></a>4. 8237A的寄存器</h5><ol><li>通道寄存器（4个通道分别具有）：基地址寄存器、基字节数寄存器、现行地址寄存器、现行字节数寄存器。</li><li>状态、命令寄存器：命令寄存器、状态寄存器、请求寄存器、方式寄存器、屏蔽寄存器、临时寄存器</li></ol></article><div class=wl-reaction><hr><div class=wl-reaction-title>就现在，表明你的态度！</div><ul class=wl-reaction-list><li class=wl-reaction-item><div class=wl-reaction-img><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://image.haodene.love/image/%E9%BC%93%E6%8E%8C.png alt=鼓励><div class=wl-reaction-votes>0</div></div><div class=wl-reaction-text>鼓励</div></li><li class=wl-reaction-item><div class=wl-reaction-img><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://image.haodene.love/image/%E8%8F%9C%E7%8B%97.png alt=菜狗><div class=wl-reaction-votes>0</div></div><div class=wl-reaction-text>菜狗</div></li><li class=wl-reaction-item><div class=wl-reaction-img><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://image.haodene.love/image/%E6%AD%A3%E7%A1%AE.png alt=正确><div class=wl-reaction-votes>0</div></div><div class=wl-reaction-text>正确</div></li><li class=wl-reaction-item><div class=wl-reaction-img><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://image.haodene.love/image/%E9%94%99%E8%AF%AF.png alt=错误><div class=wl-reaction-votes>0</div></div><div class=wl-reaction-text>错误</div></li><li class=wl-reaction-item><div class=wl-reaction-img><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://image.haodene.love/image/%E6%80%9D%E8%80%83.png alt=思考><div class=wl-reaction-votes>0</div></div><div class=wl-reaction-text>思考</div></li><li class=wl-reaction-item><div class=wl-reaction-img><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://image.haodene.love/image/%E7%9D%A1%E8%A7%89.png alt=无聊><div class=wl-reaction-votes>0</div></div><div class=wl-reaction-text>无聊</div></li></ul></div><div class=post-copyright><div class=copyright-cc-box><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class=post-copyright__author_box><a class=post-copyright__author_img href=/ title=头像><img class=post-copyright__author_img_back src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://bu.dusays.com/2023/08/01/64c884b954cfb.png title=头像 alt=头像><img class=post-copyright__author_img_front src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://bu.dusays.com/2023/08/01/64c884b954cfb.png title=头像 alt=头像></a><div class=post-copyright__author_name>Alan</div><div class=post-copyright__author_desc>山山而川 人生尔尔</div></div><div class=post-copyright__post__info><a class=post-copyright__original title=该文章为原创文章，注意版权协议 href=https://blog.haodene.love/2023/06/15/%E5%BE%AE%E6%9C%BA%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8E%A5%E5%8F%A3%E6%8A%80%E6%9C%AF/ >原创</a><a class=post-copyright-title><span onclick='rm.copyPageUrl("https://blog.haodene.love/2023/06/15/%E5%BE%AE%E6%9C%BA%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8E%A5%E5%8F%A3%E6%8A%80%E6%9C%AF/")'>微机原理与接口技术</span></a></div><div class=post-tools id=post-tools><div class=post-tools-left><div class=rewardLeftButton><div class=post-reward onclick=anzhiyu.addRewardMask()><div class="reward-button button--animated" title=赞赏作者><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class=reward-main><div class=reward-all><span class=reward-title>感谢你赐予我前进的力量</span><ul class=reward-group><li class=reward-item><a href=/img/wechat.jpg target=_blank><img class=post-qr-code-img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=/img/wechat.jpg alt=wechat></a><div class=post-qr-code-desc>wechat</div></li><li class=reward-item><a href=/img/alipay.jpg target=_blank><img class=post-qr-code-img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=/img/alipay.jpg alt=alipay></a><div class=post-qr-code-desc>alipay</div></li></ul><a class=reward-main-btn href=/about/#about-reward target=_blank><div class=reward-text>赞赏者名单</div><div class=reward-dec>因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id=quit-box onclick=anzhiyu.removeRewardMask() style=display:none></div><div class="reward-link mode"><a class=reward-link-button href=/true><i class="anzhiyufont anzhiyu-icon-plant-fill"></i>运营模式与责任</a></div></div><div class=shareRight><div class="share-link mobile"><div class=share-qrcode><div class=share-button title=使用手机访问这篇文章><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class=share-main><div class=share-main-all><div id=qrcode title=https://blog.haodene.love/2023/06/15/%E5%BE%AE%E6%9C%BA%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8E%A5%E5%8F%A3%E6%8A%80%E6%9C%AF/ ></div><div class=reward-dec>使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class=share-button target=_blank href="https://service.weibo.com/share/share.php?title=微机原理与接口技术&amp;url=https://blog.haodene.love/2023/06/15/%E5%BE%AE%E6%9C%BA%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8E%A5%E5%8F%A3%E6%8A%80%E6%9C%AF/&amp;pic=https://pic-1318708771.cos.ap-beijing.myqcloud.com/test/202306272036912.webp" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class=share-button id=post-share-url title=复制链接 onclick=rm.copyPageUrl()><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class=post-copyright__notice><span class=post-copyright-info>本博客所有文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href=https://blog.haodene.love target=_blank>Alan</a>！</span></div></div><div class=post-tools-right><div class=tag_share><div class=post-meta__box><div class=post-meta__box__tag-list><a class=post-meta__box__tags href=/tags/%E5%BE%AE%E6%9C%BA%E5%8E%9F%E7%90%86/ ><span class=tags-punctuation><i class="anzhiyufont anzhiyu-icon-tag"></i></span>微机原理<span class=tagsPageCount>1</span></a><a class=post-meta__box__tags href=/tags/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/ ><span class=tags-punctuation> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>基础学习<span class=tagsPageCount>1</span></a></div></div></div><div class=post_share><div class=social-share data-image=https://bu.dusays.com/2023/10/17/652dff0ca919f.webp data-sites=wechat,qq,weibo,facebook,twitter></div><link rel=stylesheet href=https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css media=print onload='this.media="all"'><script src=https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js defer=defer></script></div></div><nav class=pagination-post id=pagination><div class="prev-post pull-left"><a href=/2023/06/15/C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E7%AF%87/ ><img class=prev-cover src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://pic-1318708771.cos.ap-beijing.myqcloud.com/test/202306292014755.png onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class=pagination-info><div class=label>上一篇</div><div class=prev_info>C语言基础篇</div></div></a></div><div class="next-post pull-right"><a href=/2023/06/15/hello-world/ ><img class=next-cover src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=/img/default_cover.jpg onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class=pagination-info><div class=label>下一篇</div><div class=next_info>Hello World</div></div></a></div></nav><hr><div id=post-comment><div class=comment-head><div class=comment-headline><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class=comment-randomInfo><a onclick=anzhiyu.addRandomCommentInfo() href=javascript:void(0)>匿名评论</a><a href=/privacy style=margin-left:4px>隐私政策</a></div><div class=comment-tips id=comment-tips><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class=comment-wrap><div><div id=twikoo-wrap></div></div></div></div><div class=comment-barrage></div></div><div class=aside-content id=aside-content><div class="card-widget card-info"><div class=card-content><div class=author-info__sayhi id=author-info__sayhi onclick=anzhiyu.changeSayHelloText()></div><div class=author-info-avatar><img class=avatar-img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://bu.dusays.com/2023/08/01/64c884b954cfb.png onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt=avatar></div><div class=author-info__description><div style="line-height:1.38;margin:.6rem 0;text-align:justify;color:rgba(255,255,255,.8)">这有关于<b style=color:#fff>产品、设计、开发</b>相关的问题和看法，还有<b style=color:#fff>文章翻译</b>和<b style=color:#fff>分享</b>。</div><div style="line-height:1.38;margin:.6rem 0;text-align:justify;color:rgba(255,255,255,.8)">相信你可以在这里找到对你有用的<b style=color:#fff>知识</b>和<b style=color:#fff>教程</b>。</div></div><div class=author-info__bottom-group><a class=author-info__bottom-group-left href=/ ><h1 class=author-info__name>Alan</h1><div class=author-info__desc>山山而川 人生尔尔</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href=https://github.com/AlanCarte target=_blank title=Github><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="tencent://Message/?Uin=292933314&amp;amp;websiteName=local.edu.com:8888=&amp;amp;Menu=yes" target=_blank title=QQ><i class="anzhiyufont anzhiyu-icon-qq"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class=item-headline><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class=announcement_content><div id=welcome-info></div></div></div><div class="card-widget card-times"><div class=item-headline><i></i><span></span></div><div class=item-content><div id=aside-area-top><div id=aside-time-left></div><div id=aside-time-right></div></div><div id=aside-calendar><div id=calendar-area-left><div id=calendar-week></div><div id=calendar-date></div><div id=calendar-animal></div><div id=calendar-lunar></div></div><div id=calendar-area-right><div id=calendar-month></div><div id=calendar-main><div class=calendar-rh><div class=calendar-d0><a>日</a></div><div class=calendar-d1><a>一</a></div><div class=calendar-d2><a>二</a></div><div class=calendar-d3><a>三</a></div><div class=calendar-d4><a>四</a></div><div class=calendar-d5><a>五</a></div><div class=calendar-d6><a>六</a></div></div></div></div></div></div></div><div class=sticky_layout><div class=card-widget id=card-toc><div class=item-headline><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class=toc-percentage></span></div><div class=toc-content><ol class=toc><li class="toc-item toc-level-1"><a class=toc-link href=#%E5%BE%AE%E6%9C%BA%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8E%A5%E5%8F%A3%E6%8A%80%E6%9C%AF><span class=toc-number>1.</span> <span class=toc-text>微机原理与接口技术</span></a><ol class=toc-child><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%BE%AE%E5%9E%8B%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0><span class=toc-number>1.1.</span> <span class=toc-text>第一章 微型计算机系统概述</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#1-%E5%BE%AE%E5%9E%8B%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%84%E6%88%90><span class=toc-number>1.1.1.</span> <span class=toc-text>1. 微型计算机系统组成</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#2-%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF><span class=toc-number>1.1.2.</span> <span class=toc-text>2. 系统总线</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#3-%E5%9F%BA%E4%BA%8E8088CPU%E7%9A%84PC%E5%BE%AE%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84><span class=toc-number>1.1.3.</span> <span class=toc-text>3. 基于8088CPU的PC微机系统结构</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#4-%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A8%EF%BC%88CPU%EF%BC%89%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84><span class=toc-number>1.1.4.</span> <span class=toc-text>4. 微处理器（CPU）内部结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#8088-CPU-%E5%A4%96%E9%83%A8%E7%89%B9%E6%80%A7%E4%B8%8EIBM-PC%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84><span class=toc-number>1.2.</span> <span class=toc-text>8088 CPU 外部特性与IBM PC总线结构</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#1-8088%E7%9A%84%E4%B8%A4%E7%A7%8D%E7%BB%84%E6%80%81%E6%A8%A1%E5%BC%8F><span class=toc-number>1.2.1.</span> <span class=toc-text>1. 8088的两种组态模式</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#2-8088%E6%9C%80%E5%B0%8F%E7%BB%84%E6%80%81%E7%9A%84%E5%BC%95%E8%84%9A%E4%BF%A1%E5%8F%B7><span class=toc-number>1.2.2.</span> <span class=toc-text>2. 8088最小组态的引脚信号</span></a><ol class=toc-child><li class="toc-item toc-level-5"><a class=toc-link href=#1-%E6%95%B0%E6%8D%AE%E5%92%8C%E5%9C%B0%E5%9D%80%E5%BC%95%E8%84%9A><span class=toc-number>1.2.2.0.1.</span> <span class=toc-text>1. 数据和地址引脚</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#2-%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%BC%95%E8%84%9A><span class=toc-number>1.2.2.0.2.</span> <span class=toc-text>2. 读写控制引脚</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#3-%E4%B8%AD%E6%96%AD%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94%E5%BC%95%E8%84%9A><span class=toc-number>1.2.2.0.3.</span> <span class=toc-text>3. 中断请求和响应引脚</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#4-%E6%80%BB%E7%BA%BF%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94%E5%BC%95%E8%84%9A><span class=toc-number>1.2.2.0.4.</span> <span class=toc-text>4. 总线请求和响应引脚</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#5-%E5%85%B6%E5%AE%83%E5%BC%95%E8%84%9A><span class=toc-number>1.2.2.0.5.</span> <span class=toc-text>5. 其它引脚</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#6-8088%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%80%BB%E7%BA%BF%E6%97%B6%E5%BA%8F><span class=toc-number>1.2.2.0.6.</span> <span class=toc-text>6. 8088的基本总线时序</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#7-8088%E6%9C%80%E5%B0%8F%E7%BB%84%E6%80%81%E7%9A%84%E6%80%BB%E7%BA%BF%E6%97%B6%E5%BA%8F><span class=toc-number>1.2.2.0.7.</span> <span class=toc-text>7. 8088最小组态的总线时序</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#8-8088%E6%9C%80%E5%A4%A7%E7%BB%84%E6%80%81%E4%B8%AD%E7%9A%84%E5%BC%95%E8%84%9A%E5%AE%9A%E4%B9%89><span class=toc-number>1.2.2.0.8.</span> <span class=toc-text>8. 8088最大组态中的引脚定义</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#9-8088%E6%9C%80%E5%A4%A7%E7%BB%84%E6%80%81%E7%9A%84%E6%80%BB%E7%BA%BF%E5%BD%A2%E6%88%90><span class=toc-number>1.2.2.0.9.</span> <span class=toc-text>9. 8088最大组态的总线形成</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E5%8D%8A%E5%AF%BC%E4%BD%93%E5%AD%98%E5%82%A8%E5%99%A8%E5%8F%8A%E6%8E%A5%E5%8F%A3><span class=toc-number>1.3.</span> <span class=toc-text>第二章 半导体存储器及接口</span></a><ol class=toc-child><li class="toc-item toc-level-5"><a class=toc-link href=#1-%E5%8D%8A%E5%AF%BC%E4%BD%93%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%88%86%E7%B1%BB><span class=toc-number>1.3.0.0.1.</span> <span class=toc-text>1. 半导体存储器的分类</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#2-%E5%8D%8A%E5%AF%BC%E4%BD%93%E5%AD%98%E5%82%A8%E5%99%A8%E8%8A%AF%E7%89%87%E7%9A%84%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84><span class=toc-number>1.3.0.0.2.</span> <span class=toc-text>2. 半导体存储器芯片的内部结构</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#4-%E9%9A%8F%E6%9C%BA%E5%AD%98%E5%8F%96%E5%AD%98%E5%82%A8%E5%99%A8><span class=toc-number>1.3.0.0.3.</span> <span class=toc-text>4. 随机存取存储器</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#5-%E5%8F%AA%E8%AF%BB%E5%AD%98%E5%82%A8%E5%99%A8><span class=toc-number>1.3.0.0.4.</span> <span class=toc-text>5. 只读存储器</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#6-%E5%8D%8A%E5%AF%BC%E4%BD%93%E5%AD%98%E5%82%A8%E5%99%A8%E4%B8%8ECPU%E7%9A%84%E8%BF%9E%E6%8E%A5><span class=toc-number>1.3.0.0.5.</span> <span class=toc-text>6. 半导体存储器与CPU的连接</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#7-%E5%AD%98%E5%82%A8%E8%8A%AF%E7%89%87%E4%B8%8ECPU%E7%9A%84%E9%85%8D%E5%90%88><span class=toc-number>1.3.0.0.6.</span> <span class=toc-text>7. 存储芯片与CPU的配合</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#8-8086%E5%AD%98%E5%82%A8%E5%99%A8%E7%BB%84%E7%BB%87><span class=toc-number>1.3.0.0.7.</span> <span class=toc-text>8. 8086存储器组织</span></a></li></ol></li></ol><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E5%9F%BA%E6%9C%AC%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%8E%A5%E5%8F%A3><span class=toc-number>1.4.</span> <span class=toc-text>第三章 基本输入输出接口</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#I-O%E6%8E%A5%E5%8F%A3%E6%A6%82%E8%BF%B0><span class=toc-number>1.4.1.</span> <span class=toc-text>I&#x2F;O接口概述</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#I-O%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%85%B8%E5%9E%8B%E7%BB%93%E6%9E%84><span class=toc-number>1.4.2.</span> <span class=toc-text>I&#x2F;O接口的典型结构</span></a><ol class=toc-child><li class="toc-item toc-level-5"><a class=toc-link href=#1-%E6%8E%A5%E5%8F%A3%E7%94%B5%E8%B7%AF%E7%9A%84%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84><span class=toc-number>1.4.2.0.1.</span> <span class=toc-text>1. 接口电路的内部结构</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#2-%E6%8E%A5%E5%8F%A3%E7%94%B5%E8%B7%AF%E7%9A%84%E5%A4%96%E9%83%A8%E7%89%B9%E6%80%A7><span class=toc-number>1.4.2.0.2.</span> <span class=toc-text>2. 接口电路的外部特性</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#3-%E6%8E%A5%E5%8F%A3%E7%94%B5%E8%B7%AF%E8%8A%AF%E7%89%87%E7%9A%84%E5%88%86%E7%B1%BB><span class=toc-number>1.4.2.0.3.</span> <span class=toc-text>3. 接口电路芯片的分类</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#4-%E6%8E%A5%E5%8F%A3%E7%94%B5%E8%B7%AF%E7%9A%84%E5%8F%AF%E7%BC%96%E7%A8%8B%E6%80%A7><span class=toc-number>1.4.2.0.4.</span> <span class=toc-text>4. 接口电路的可编程性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class=toc-link href=#3-I-O%E7%AB%AF%E5%8F%A3%E7%9A%84%E7%BC%96%E5%9D%80><span class=toc-number>1.4.3.</span> <span class=toc-text>3. I&#x2F;O端口的编址</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#4-8088-8086%E7%9A%84%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%8C%87%E4%BB%A4><span class=toc-number>1.4.4.</span> <span class=toc-text>4. 8088&#x2F;8086的输入输出指令</span></a><ol class=toc-child><li class="toc-item toc-level-5"><a class=toc-link href=#1-8088-8086%E7%9A%84I-O%E7%AB%AF%E5%8F%A3><span class=toc-number>1.4.4.0.1.</span> <span class=toc-text>1. 8088&#x2F;8086的I&#x2F;O端口</span></a></li></ol></li><li class="toc-item toc-level-3"><a class=toc-link href=#5-I-O%E5%9C%B0%E5%9D%80%E7%9A%84%E8%AF%91%E7%A0%81><span class=toc-number>1.4.5.</span> <span class=toc-text>5. I&#x2F;O地址的译码</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#6-%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%81%E6%96%B9%E5%BC%8F><span class=toc-number>1.4.6.</span> <span class=toc-text>6. 数据传送方式</span></a><ol class=toc-child><li class="toc-item toc-level-4"><a class=toc-link href=#1-%E6%97%A0%E6%9D%A1%E4%BB%B6%E4%BC%A0%E9%80%81%E6%96%B9%E5%BC%8F%E5%8F%8A%E5%85%B6%E6%8E%A5%E5%8F%A3><span class=toc-number>1.4.6.1.</span> <span class=toc-text>1. 无条件传送方式及其接口</span></a><ol class=toc-child><li class="toc-item toc-level-5"><a class=toc-link href=#2-%E6%9F%A5%E8%AF%A2%E4%BC%A0%E9%80%81%E6%96%B9%E5%BC%8F%E5%8F%8A%E5%85%B6%E6%8E%A5%E5%8F%A3><span class=toc-number>1.4.6.1.1.</span> <span class=toc-text>2. 查询传送方式及其接口</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#3-%E4%B8%AD%E6%96%AD%E4%BC%A0%E9%80%81%E6%96%B9%E5%BC%8F><span class=toc-number>1.4.6.1.2.</span> <span class=toc-text>3. 中断传送方式</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#4-DMA%E4%BC%A0%E9%80%81%E6%96%B9%E5%BC%8F><span class=toc-number>1.4.6.1.3.</span> <span class=toc-text>4. DMA传送方式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E4%B8%AD%E6%96%AD%E6%8E%A7%E5%88%B6%E6%8E%A5%E5%8F%A3><span class=toc-number>1.5.</span> <span class=toc-text>第四章 中断控制接口</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#1-8088%E4%B8%AD%E6%96%AD%E7%B3%BB%E7%BB%9F><span class=toc-number>1.5.1.</span> <span class=toc-text>1. 8088中断系统</span></a><ol class=toc-child><li class="toc-item toc-level-5"><a class=toc-link href=#1-8088%E7%9A%84%E4%B8%AD%E6%96%AD%E7%B1%BB%E5%9E%8B><span class=toc-number>1.5.1.0.1.</span> <span class=toc-text>1. 8088的中断类型</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#2-8088%E7%9A%84%E4%B8%AD%E6%96%AD%E5%93%8D%E5%BA%94%E8%BF%87%E7%A8%8B><span class=toc-number>1.5.1.0.2.</span> <span class=toc-text>2. 8088的中断响应过程</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#3-8088%E7%9A%84%E4%B8%AD%E6%96%AD%E5%90%91%E9%87%8F%E8%A1%A8><span class=toc-number>1.5.1.0.3.</span> <span class=toc-text>3. 8088的中断向量表</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class=toc-link href=#2-%E5%86%85%E9%83%A8%E4%B8%AD%E6%96%AD%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F><span class=toc-number>1.5.2.</span> <span class=toc-text>2. 内部中断服务程序</span></a><ol class=toc-child><li class="toc-item toc-level-5"><a class=toc-link href=#1-%E5%86%85%E9%83%A8%E4%B8%AD%E6%96%AD%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F><span class=toc-number>1.5.2.0.1.</span> <span class=toc-text>1. 内部中断服务程序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class=toc-link href=#3-8259A%E4%B8%AD%E6%96%AD%E6%8E%A7%E5%88%B6%E5%99%A8><span class=toc-number>1.5.3.</span> <span class=toc-text>3. 8259A中断控制器</span></a><ol class=toc-child><li class="toc-item toc-level-5"><a class=toc-link href=#1-8259A%E7%9A%84%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84%E5%92%8C%E5%BC%95%E8%84%9A><span class=toc-number>1.5.3.0.1.</span> <span class=toc-text>1. 8259A的内部结构和引脚</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#3-8259A%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%96%B9%E5%BC%8F><span class=toc-number>1.5.3.0.2.</span> <span class=toc-text>3. 8259A的工作方式</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#4-8259A%E7%9A%84%E7%BC%96%E7%A8%8B><span class=toc-number>1.5.3.0.3.</span> <span class=toc-text>4. 8259A的编程</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#5-%E5%A4%96%E9%83%A8%E4%B8%AD%E6%96%AD%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F><span class=toc-number>1.5.3.0.4.</span> <span class=toc-text>5. 外部中断服务程序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%AC%AC%E4%BA%94%E7%AB%A0-%E5%AE%9A%E6%97%B6%E8%AE%A1%E6%95%B0%E6%8E%A7%E5%88%B6%E6%8E%A5%E5%8F%A3><span class=toc-number>1.6.</span> <span class=toc-text>第五章 定时计数控制接口</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#8253-8254%E5%AE%9A%E6%97%B6%E8%AE%A1%E6%95%B0%E5%99%A8><span class=toc-number>1.6.1.</span> <span class=toc-text>8253&#x2F;8254定时计数器</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#8253-8254%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%96%B9%E5%BC%8F><span class=toc-number>1.6.2.</span> <span class=toc-text>8253&#x2F;8254的工作方式</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#8253-8254%E7%9A%84%E7%BC%96%E7%A8%8B><span class=toc-number>1.6.3.</span> <span class=toc-text>8253&#x2F;8254的编程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%AC%AC%E5%85%AD%E7%AB%A0-DMA%E6%8E%A7%E5%88%B6%E6%8E%A5%E5%8F%A3><span class=toc-number>1.7.</span> <span class=toc-text>第六章 DMA控制接口</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#DMA%E6%8E%A7%E5%88%B6%E5%99%A88237A><span class=toc-number>1.7.1.</span> <span class=toc-text>DMA控制器8237A</span></a><ol class=toc-child><li class="toc-item toc-level-5"><a class=toc-link href=#1-8237A%E7%9A%84%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84%E5%92%8C%E5%BC%95%E8%84%9A><span class=toc-number>1.7.1.0.1.</span> <span class=toc-text>1. 8237A的内部结构和引脚</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#2-8237A%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%97%B6%E5%BA%8F%C2%B7%E7%A9%BA%E9%97%B2%E5%91%A8%E6%9C%9F><span class=toc-number>1.7.1.0.2.</span> <span class=toc-text>2. 8237A的工作时序·空闲周期</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#3-8237A%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%96%B9%E5%BC%8F><span class=toc-number>1.7.1.0.3.</span> <span class=toc-text>3. 8237A的工作方式</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#4-8237A%E7%9A%84%E5%AF%84%E5%AD%98%E5%99%A8><span class=toc-number>1.7.1.0.4.</span> <span class=toc-text>4. 8237A的寄存器</span></a></li></ol></li></ol></li></div></div><div class="card-widget card-recent-post"><div class=item-headline><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class=aside-list><div class=aside-list-item><a class=thumbnail href=/2023/08/06/Redis/ title=初识Redis><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://bu.dusays.com/2023/10/17/652dff0ca919f.webp onerror='this.onerror=null,this.src="/img/404.jpg"' alt=初识Redis></a><div class=content><a class=title href=/2023/08/06/Redis/ title=初识Redis>初识Redis</a><time datetime=2023-08-06T08:30:00.000Z title="发表于 2023-08-06 16:30:00">2023-08-06</time></div></div><div class=aside-list-item><a class=thumbnail href=/2023/07/28/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/ title=设计模式><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://bu.dusays.com/2023/10/19/653146f22a384.png onerror='this.onerror=null,this.src="/img/404.jpg"' alt=设计模式></a><div class=content><a class=title href=/2023/07/28/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/ title=设计模式>设计模式</a><time datetime=2023-07-28T08:30:00.000Z title="发表于 2023-07-28 16:30:00">2023-07-28</time></div></div><div class=aside-list-item><a class=thumbnail href=/2023/07/25/%E7%BA%BF%E7%A8%8B%E5%92%8C%E9%94%81/ title=线程和锁><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://bu.dusays.com/2023/10/17/652dff0ca37c2.webp onerror='this.onerror=null,this.src="/img/404.jpg"' alt=线程和锁></a><div class=content><a class=title href=/2023/07/25/%E7%BA%BF%E7%A8%8B%E5%92%8C%E9%94%81/ title=线程和锁>线程和锁</a><time datetime=2023-07-25T08:30:00.000Z title="发表于 2023-07-25 16:30:00">2023-07-25</time></div></div><div class=aside-list-item><a class=thumbnail href=/2023/07/20/Map%E9%9B%86%E5%90%88/ title=Map集合><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://bu.dusays.com/2023/10/17/652dff0ceef84.png onerror='this.onerror=null,this.src="/img/404.jpg"' alt=Map集合></a><div class=content><a class=title href=/2023/07/20/Map%E9%9B%86%E5%90%88/ title=Map集合>Map集合</a><time datetime=2023-07-20T08:30:00.000Z title="发表于 2023-07-20 16:30:00">2023-07-20</time></div></div><div class=aside-list-item><a class=thumbnail href=/2023/07/15/Java%E9%9D%A2%E8%AF%95%E9%A2%98%E5%9F%BA%E7%A1%80/ title=Java面试题基础><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://bu.dusays.com/2023/10/17/652dff0ceef84.png onerror='this.onerror=null,this.src="/img/404.jpg"' alt=Java面试题基础></a><div class=content><a class=title href=/2023/07/15/Java%E9%9D%A2%E8%AF%95%E9%A2%98%E5%9F%BA%E7%A1%80/ title=Java面试题基础>Java面试题基础</a><time datetime=2023-07-15T08:30:00.000Z title="发表于 2023-07-15 16:30:00">2023-07-15</time></div></div></div></div></div></div></div></main><footer id=footer><div id=footer-wrap><div id=footer_deal><a class=deal_link target=_blank rel=noopener href="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=292933314@qq.com" title=email><i class="anzhiyufont anzhiyu-icon-envelope"></i></a><a class=deal_link target=_blank rel=noopener href=https://weibo.com/u/7470060454 title=微博><i class="anzhiyufont anzhiyu-icon-weibo"></i></a><a class=deal_link target=_blank rel=noopener href="https://www.facebook.com/profile.php?id=100092208016287&amp;sk=about" title=facebook><i class="anzhiyufont anzhiyu-icon-facebook1"></i></a><a class=deal_link href=/atom.xml title=RSS><i class="anzhiyufont anzhiyu-icon-rss"></i></a><img class=footer_mini_logo title=返回顶部 alt=返回顶部 onclick=anzhiyu.scrollToDest(0,500) src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://bu.dusays.com/2023/08/01/64c884b954cfb.png size=50px><a class=deal_link target=_blank rel=noopener href=https://github.com/AlanCarte title=Github><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class=deal_link target=_blank rel=noopener href="https://space.bilibili.com/1381168039?spm_id_from=333.1007.0.0" title=Bilibili><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a><a class=deal_link target=_blank rel=noopener href=https://www.douyin.com/ title=抖音><i class="anzhiyufont anzhiyu-icon-tiktok"></i></a><a class=deal_link href=/copyright title=CC><i class="anzhiyufont anzhiyu-icon-copyright-line"></i></a></div><div id=anzhiyu-footer><div class=footer-group><div class=footer-title>服务</div><div class=footer-links><a class=footer-item title=51la统计 target=_blank rel=noopener href=https://v6.51.la/ >51la统计</a><a class=footer-item title=十年之约 target=_blank rel=noopener href=https://www.foreverblog.cn/ >十年之约</a><a class=footer-item title=开往 target=_blank rel=noopener href=https://github.com/travellings-link/travellings>开往</a></div></div><div class=footer-group><div class=footer-title>导航</div><div class=footer-links><a class=footer-item title=即刻短文 href=/essay/ >即刻短文</a><a class=footer-item title=友链文章 href=/fcircle/ >友链文章</a><a class=footer-item title=留言板 href=/comments/ >留言板</a></div></div><div class=footer-group><div class=footer-title>协议</div><div class=footer-links><a class=footer-item title=隐私协议 href=/privacy/ >隐私协议</a><a class=footer-item title=Cookies href=/cookies/ >Cookies</a><a class=footer-item title=版权协议 href=/copyright/ >版权协议</a></div></div><div class=footer-group><div class=footer-title-group><div class=footer-title>友链</div><a class=random-friends-btn id=footer-random-friends-btn href=javascript:addFriendLinksInFooter(); title=换一批友情链接><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right"></i></a></div><div class=footer-links id=friend-links-in-footer></div></div></div><div id=workboard><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://image.haodene.love/image/%E5%B0%8F%E7%86%8A-%E5%8A%AA%E5%8A%9B%E7%BB%83%E5%8A%9Fing-success.svg alt=距离成为大师还有好多天~ title=距离成为大师还有好多天~><div id=runtimeTextTip></div></div><p id=ghbdages><a class=github-badge target=_blank href=https://hexo.io/ style=margin-inline:5px data-title=博客框架为Hexo_v5.4.0 title=博客框架为Hexo_v5.4.0><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg alt=博客框架为Hexo_v5.4.0></a><a class=github-badge target=_blank href=https://www.dogecloud.com/ style=margin-inline:5px data-title=本站使用多吉云为静态资源提供CDN加速 title=本站使用多吉云为静态资源提供CDN加速><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/CDN-多吉云-3693F3.svg alt=本站使用多吉云为静态资源提供CDN加速></a><a class=github-badge target=_blank href=https://beian.miit.gov.cn/ style=margin-inline:5px data-title=本站已在晋进行备案 title=本站已在晋进行备案><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://pic-1318708771.cos.ap-beijing.myqcloud.com/test/202307031638839.svg alt=本站已在晋进行备案></a><a class=github-badge target=_blank href=https://github.com/ style=margin-inline:5px data-title=本站项目由Github托管 title=本站项目由Github托管><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://image.haodene.love/image/github-AlanCarte-blue.svg alt=本站项目由Github托管></a><a class=github-badge target=_blank href=http://creativecommons.org/licenses/by-nc-sa/4.0/ style=margin-inline:5px data-title=本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可 title=本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/Copyright-BY-NC-SA.svg alt=本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可></a><a class=github-badge target=_blank href=https://blog.anheyu.com/ style=margin-inline:5px data-title=本站使用AnZhiYu主题 title=本站使用AnZhiYu主题><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg alt=本站使用AnZhiYu主题></a></p></div><div id=footer-bar><div class=footer-bar-links><div class=footer-bar-left><div id=footer-bar-tips><div class=copyright>&copy;2023 By <a class=footer-bar-link href=/ title=Alan target=_blank>Alan</a></div></div><div id=footer-type-tips></div></div><div class=footer-bar-right><a class=footer-bar-link href=/rss title=订阅>订阅</a><a class=footer-bar-link target=_blank rel=noopener href=https://beian.miit.gov.cn/ title=晋ICP备2023017132号>晋ICP备2023017132号</a><a class="footer-bar-link cc" href=/copyright title=cc协议><i class="anzhiyufont anzhiyu-icon-copyright-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-by-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-nc-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-nd-line"></i></a></div></div></div></footer></div><div id=sidebar><div id=menu-mask></div><div id=sidebar-menus><div class="sidebar-site-data site-data is-center"><a href=/archives/ title=archive><div class=headline>文章</div><div class=length-num>15</div></a><a href=/tags/ title=tag><div class=headline>标签</div><div class=length-num>11</div></a><a href=/categories/ title=category><div class=headline>分类</div><div class=length-num>2</div></a></div><span class=sidebar-menu-item-title>功能</span><div class=sidebar-menu-item><a class="darkmode_switchbutton menu-child" href=javascript:void(0); title=显示模式><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class=back-menu-list-groups><div class=back-menu-list-group><div class=back-menu-list-title>网页</div><div class=back-menu-list><a class=back-menu-item href=https://blog.haodene.love/ title=博客><img class=back-menu-item-icon src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://pic-1318708771.cos.ap-beijing.myqcloud.com/test/202306232207145.png alt=博客><span class=back-menu-item-text>博客</span></a></div></div><div class=back-menu-list-group><div class=back-menu-list-title>项目</div><div class=back-menu-list><a class=back-menu-item target=_blank rel=noopener href=https://like.haodene.love/ title=Love♥><img class=back-menu-item-icon src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src=https://image.haodene.love/image/favicon.ico alt=Love♥><span class=back-menu-item-text>Love♥</span></a></div></div></div><div class=menus_items><div class=menus_item><a class=site-page href=javascript:void(0);><span>文库</span></a><ul class=menus_item_child><li><a class="site-page child faa-parent animated-hover" href=/archives/ ><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style=font-size:.9em></i><span> 全部文章</span></a></li><li><a class="site-page child faa-parent animated-hover" href=/categories/ ><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style=font-size:.9em></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href=/tags/ ><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style=font-size:.9em></i><span> 标签</span></a></li></ul></div><div class=menus_item><a class=site-page href=javascript:void(0);><span>友链</span></a><ul class=menus_item_child><li><a class="site-page child faa-parent animated-hover" href=/link/ ><i class="anzhiyufont anzhiyu-icon-link faa-tada" style=font-size:.9em></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href=/fcircle/ ><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style=font-size:.9em></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href=/comments/ ><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style=font-size:.9em></i><span> 留言板</span></a></li></ul></div><div class=menus_item><a class=site-page href=javascript:void(0);><span>我的</span></a><ul class=menus_item_child><li><a class="site-page child faa-parent animated-hover" href="/music/?id=2173542081&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style=font-size:.9em></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href=/album/ ><i class="anzhiyufont anzhiyu-icon-images faa-tada" style=font-size:.9em></i><span> 相册集</span></a></li></ul></div><div class=menus_item><a class=site-page href=javascript:void(0);><span>关于</span></a><ul class=menus_item_child><li><a class="site-page child faa-parent animated-hover" href=/about/ ><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style=font-size:.9em></i><span> 关于我</span></a></li><li><a class="site-page child faa-parent animated-hover" href=/essay/ ><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style=font-size:.9em></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href=javascript:toRandomPost()><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style=font-size:.9em></i><span> 随便逛逛</span></a></li></ul></div><div class=menus_item><a class=site-page href=javascript:void(0);><span>树洞</span></a><ul class=menus_item_child><li><a class="site-page child faa-parent animated-hover" href=/collect/ ><i class="fa-solid fa-heart faa-tada"></i><span> 藏宝阁</span></a></li><li><a class="site-page child faa-parent animated-hover" href=/stars/ ><i class="fa-solid fa-star faa-tada"></i><span> 百宝箱</span></a></li><li><a class="site-page child faa-parent animated-hover" href=/games/ ><i class="fa-solid fa-fire faa-tada"></i><span> 游戏空间</span></a></li></ul></div></div><span class=sidebar-menu-item-title>标签</span><div class=card-tags><div class=item-headline></div><div class=card-tag-cloud><a href=/tags/C%E8%AF%AD%E8%A8%80/ style=font-size:.88rem>C语言<sup>1</sup></a><a href=/tags/Git/ style=font-size:.88rem>Git<sup>1</sup></a><a href=/tags/Java/ style=font-size:.88rem>Java<sup>7</sup></a><a href=/tags/Linux/ style=font-size:.88rem>Linux<sup>3</sup></a><a href=/tags/Markdown/ style=font-size:.88rem>Markdown<sup>1</sup></a><a href=/tags/MyBatis/ style=font-size:.88rem>MyBatis<sup>1</sup></a><a href=/tags/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/ style=font-size:.88rem>基础学习<sup>1</sup></a><a href=/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/ style=font-size:.88rem>基础知识<sup>6</sup></a><a href=/tags/%E5%A4%96%E6%8C%82%E6%A0%87%E7%AD%BE/ style=font-size:.88rem>外挂标签<sup>1</sup></a><a href=/tags/%E5%BE%AE%E6%9C%BA%E5%8E%9F%E7%90%86/ style=font-size:.88rem>微机原理<sup>1</sup></a><a href=/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/ style=font-size:.88rem>面试题<sup>5</sup></a></div></div><hr></div></div><div id=keyboard-tips><div class=keyboardTitle>博客快捷键</div><div class=keybordList><div class=keybordItem><div class=keyGroup><div class=key>shift K</div></div><div class=keyContent><div class=content>关闭快捷键功能</div></div></div><div class=keybordItem><div class=keyGroup><div class=key>shift A</div></div><div class=keyContent><div class=content>打开/关闭中控台</div></div></div><div class=keybordItem><div class=keyGroup><div class=key>shift M</div></div><div class=keyContent><div class=content>播放/暂停音乐</div></div></div><div class=keybordItem><div class=keyGroup><div class=key>shift D</div></div><div class=keyContent><div class=content>深色/浅色显示模式</div></div></div><div class=keybordItem><div class=keyGroup><div class=key>shift S</div></div><div class=keyContent><div class=content>站内搜索</div></div></div><div class=keybordItem><div class=keyGroup><div class=key>shift R</div></div><div class=keyContent><div class=content>随机访问</div></div></div><div class=keybordItem><div class=keyGroup><div class=key>shift H</div></div><div class=keyContent><div class=content>返回首页</div></div></div><div class=keybordItem><div class=keyGroup><div class=key>shift F</div></div><div class=keyContent><div class=content>友链鱼塘</div></div></div><div class=keybordItem><div class=keyGroup><div class=key>shift L</div></div><div class=keyContent><div class=content>友链页面</div></div></div><div class=keybordItem><div class=keyGroup><div class=key>shift P</div></div><div class=keyContent><div class=content>关于本站</div></div></div><div class=keybordItem><div class=keyGroup><div class=key>shift I</div></div><div class=keyContent><div class=content>原版/本站右键菜单</div></div></div></div></div><div id=rightside><div id=rightside-config-hide><button id=readmode type=button title=阅读模式><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id=translateLink type=button title=简繁转换>繁</button><button id=darkmode type=button title=浅色和深色模式转换><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id=hide-aside-btn type=button title=单栏和双栏切换><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id=rightside-config-show><button id=rightside-config type=button title=设置><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class=close id=mobile-toc-button type=button title=目录><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id=to_comment href=#post-comment title=直达评论><i class="anzhiyufont anzhiyu-icon-comments"></i></a><a id=switch-commentBarrage href=javascript:anzhiyu.switchCommentBarrage(); title=开关弹幕><i class="anzhiyufont anzhiyu-icon-danmu"></i></a><button id=go-up type=button title=回到顶部><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id=nav-music><a id=nav-music-hoverTips onclick=anzhiyu.musicToggle() accesskey=m>播放音乐</a><div id=console-music-bg></div><meting-js id=2173542081 server=netease type=playlist mutex=true preload=none theme=var(--anzhiyu-main) data-lrctype=0 order=random></meting-js></div><div id=algolia-search><div class=search-dialog><nav class=search-nav><span class=search-dialog-title>搜索</span><button class=search-close-button><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class=search-wrap><div id=algolia-search-input></div><hr><div id=algolia-search-results><div id=algolia-hits></div><div id=algolia-pagination></div><div id=algolia-info><div class=algolia-stats></div><div class=algolia-poweredBy></div></div></div></div></div><div id=search-mask></div></div><div id=rightMenu><div class="rightMenu-group rightMenu-small"><div class=rightMenu-item id=menu-backward><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class=rightMenu-item id=menu-forward><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class=rightMenu-item id=menu-refresh><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style=font-size:1rem></i></div><div class=rightMenu-item id=menu-top><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class=rightMenu-item id=menu-copytext><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class=rightMenu-item id=menu-pastetext><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class=rightMenu-item id=menu-commenttext><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class=rightMenu-item id=menu-newwindow><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class=rightMenu-item id=menu-copylink><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class=rightMenu-item id=menu-copyimg><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class=rightMenu-item id=menu-downloadimg><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class=rightMenu-item id=menu-newwindowimg><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class=rightMenu-item id=menu-search><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class=rightMenu-item id=menu-searchBaidu><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class=rightMenu-item id=menu-music-toggle><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class=rightMenu-item id=menu-music-back><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class=rightMenu-item id=menu-music-forward><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class=rightMenu-item id=menu-music-playlist onclick="window.open(&quot;https://music.163.com/#/my/m/music/playlist?id=2173542081&quot;, &quot;_blank&quot;);" style=display:none><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class=rightMenu-item id=menu-music-copyMusicName><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id=menu-randomPost><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href=/categories/ ><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href=/tags/ ><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class=rightMenu-item id=menu-copy href=javascript:void(0);><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class=rightMenu-item id=menu-commentBarrage href=javascript:void(0);><i class="anzhiyufont anzhiyu-icon-message"></i><span class=menu-commentBarrage-text>关闭热评</span></a><a class=rightMenu-item id=menu-darkmode href=javascript:void(0);><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class=menu-darkmode-text>深色模式</span></a><a class=rightMenu-item id=menu-translate href=javascript:void(0);><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id=rightmenu-mask></div><div><script src=/js/utils.js></script><script src=/js/main.js></script><script src=/js/tw_cn.js></script><script src=https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.umd.js></script><script src=https://cdn.cbd.int/instant.page@5.2.0/instantpage.js type=module></script><script src=https://cdn.cbd.int/vanilla-lazyload@17.8.4/dist/lazyload.iife.min.js></script><script src=https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://cdn.cbd.int/pangu@4.0.7/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})}function panguInit(){GLOBAL_CONFIG_SITE.isPost&&panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><canvas id=universe></canvas><script async src=https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js></script><script>var HoldLog=console.log;console.log=function(){};let now1=new Date;queueMicrotask(()=>{function o(){HoldLog.apply(console,arguments)}var c=new Date("06/01/2023 00:00:00"),c=(now1.setTime(now1.getTime()+250),(now1-c)/1e3/60/60/24),c=["欢迎使用安知鱼!","生活明朗, 万物可爱",`
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,"已上线",Math.floor(c),"天","©2023 By 安知鱼 V1.6.8"],e=["NCC2-036","调用前置摄像头拍照成功，识别为【小笨蛋】.","Photo captured: ","🤪"];setTimeout(o.bind(console,`
%c${c[0]} %c ${c[1]} %c ${c[2]} %c${c[3]}%c ${c[4]}%c ${c[5]}

%c ${c[6]}
`,"color:#425AEF","","color:#425AEF","color:#425AEF","","color:#425AEF","")),setTimeout(o.bind(console,`%c ${e[0]} %c ${e[1]} %c 
${e[2]} %c
${e[3]}
`,"color:white; background-color:#4fd953","","",'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%')),setTimeout(o.bind(console,"%c WELCOME %c 你好，小笨蛋.","color:white; background-color:#4f90d9","")),setTimeout(console.warn.bind(console,"%c ⚡ Powered by 安知鱼 %c 你正在访问 Alan 的博客.","color:white; background-color:#f0ad4e","")),setTimeout(o.bind(console,"%c W23-12 %c 你已打开控制台.","color:white; background-color:#4f90d9","")),setTimeout(console.warn.bind(console,"%c S013-782 %c 你现在正处于监控中.","color:white; background-color:#d9534f",""))})</script><script async src=/anzhiyu/random.js></script><script async=async>!function(){var n,o,r,a,i,e=new Date("06/01/2023 00:00:00"),l=new Date;setInterval(()=>{var t;if(l=new Date,i=l.getHours(),t=(l-e)/1e3/60/60/24,n=Math.floor(t),t=(l-e)/1e3/60/60-24*n,o=Math.floor(t),1==String(o).length&&(o="0"+o),t=(l-e)/1e3/60-1440*n-60*o,r=Math.floor(t),1==String(r).length&&(r="0"+r),t=(l-e)/1e3-86400*n-3600*o-60*r,a=Math.round(t),1==String(a).length&&(a="0"+a),document.getElementById("footer")){let e="";e=(i<18&&9<=i||((t=document.querySelector("#workboard .workSituationImg")).src="https://image.haodene.love/image/%E5%B0%8F%E7%86%8A-%E5%9B%9E%E6%A0%91%E6%B4%9E%E5%92%AF~~-blue.svg",t.title="这个点了应该去睡觉啦，熬夜对身体不好哦",t.alt="这个点了应该去睡觉啦，熬夜对身体不好哦"),`本站居然运行了 ${n} 天<span id='runtime'> ${o} 小时 ${r} 分 ${a} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`),document.getElementById("runtimeTextTip")&&(document.getElementById("runtimeTextTip").innerHTML=e)}},1e3)}()</script><script src=https://cdn.cbd.int/algoliasearch@4.18.0/dist/algoliasearch-lite.umd.js></script><script src=https://cdn.cbd.int/instantsearch.js@4.56.5/dist/instantsearch.production.min.js></script><script src=/js/search/algolia.js></script><div class=js-pjax><script>(()=>{const t=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://ait.haodene.love/",region:"",onCommentLoaded:()=>{anzhiyu.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null))};var o=()=>{"object"==typeof twikoo?setTimeout(n,0):getScript("https://cdn.cbd.int/twikoo@1.6.21/dist/twikoo.all.min.js").then(n)};const e=()=>{const o=document.getElementById("twikoo-count");o&&twikoo.getCommentsCount({envId:"https://ait.haodene.love/",region:"",urls:[window.location.pathname],includeReply:!1}).then(t=>{o.textContent=t[0].count}).catch(t=>{console.error(t)})},n=()=>{t(),GLOBAL_CONFIG_SITE.isPost&&e()};o()})()</script><input type=hidden name=page-type id=page-type value=post><script async src=/js/anzhiyu/comment_barrage.js></script></div><script>window.addEventListener("load",()=>{const t=e=>e=""!==e&&150<(e=(e=(e=(e=e.replace(/<img.*?src="(.*?)"?[^\>]+>/gi,"[图片]")).replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi,"[链接]")).replace(/<pre><code>.*?<\/pre>/gi,"[代码]")).replace(/<[^>]+>/g,"")).length?e.substring(0,150)+"...":e,a=t=>{let a="";if(t.length)for(let e=0;e<t.length;e++)a=(a=(a+="<div class='aside-list-item'>")+`<a href='${t[e].url}' class='thumbnail'><img data-lazy-src='${t[e].avatar}' alt='${t[e].nick}'><div class='name'><span>${t[e].nick} </span></div></a>`)+`<div class='content'>
        <a class='comment' href='${t[e].url}' title='${t[e].content}'>${t[e].content}</a>
        <time datetime="${t[e].date}">${anzhiyu.diffDate(t[e].date,!0)}</time></div>
        </div>`;else a+="没有评论";var e=document.querySelector("#card-newest-comments .aside-list");e.innerHTML=a,window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(e)};var e=()=>{var e;document.querySelector("#card-newest-comments .aside-list")&&((e=saveToLocal.get("twikoo-newest-comments"))?a(JSON.parse(e)):(e=()=>{twikoo.getRecentComments({envId:"https://ait.haodene.love/",region:"",pageSize:6,includeReply:!0}).then(function(e){e=e.map(e=>({content:t(e.comment),avatar:e.avatar,nick:e.nick,url:e.url+"#"+e.id,date:new Date(e.created).toISOString()}));saveToLocal.set("twikoo-newest-comments",JSON.stringify(e),10/1440),a(e)}).catch(function(e){document.querySelector("#card-newest-comments .aside-list").textContent="无法获取评论，请确认相关配置是否正确"})},"object"==typeof twikoo?e():getScript("https://cdn.cbd.int/twikoo@1.6.21/dist/twikoo.all.min.js").then(e)))};e(),document.addEventListener("pjax:complete",e)})</script><script async data-pjax src=https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js></script><script>var visitorMail="visitor@anheyu.com"</script><script async data-pjax src=https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js></script><script src=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js></script><link rel=stylesheet href=https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css><script type=text/javascript src=https://unpkg.zhimg.com/jquery@latest/dist/jquery.min.js></script><script async data-pjax src=/js/welcome.js></script><script defer=defer src=/js/universe.js></script><script defer=defer src=/js/easy-Danmaku.js></script><script defer=defer src=/js/danmu.js></script><script defer=defer src=/js/view.js></script><script async data-pjax src=//at.alicdn.com/t/font_1891866_qo793wp12h.js></script><script async data-pjax src=//at.alicdn.com/t/c/font_4133697_i8em6d1t5h.js></script><script defer=defer src=/js/chinese-lunar.js></script><script defer=defer src=/js/runtime.js></script><script defer=defer src=/js/calendar.js></script><canvas class=fireworks mobile=false></canvas><script src=https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/fireworks.min.js></script><link rel=stylesheet href=https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css media=print onload='this.media="all"'><script src=https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js></script><script src=https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js></script><script src=https://cdn.cbd.int/pjax@0.2.8/pjax.min.js></script><script>let pjaxSelectors=['meta[property="og:image"]','meta[property="og:title"]','meta[property="og:url"]','meta[property="og:type"]','meta[property="og:site_name"]','meta[property="og:description"]',"head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/music/"]):not([href="/no-pjax/"]):not([href="/fcircle/"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",function(){if(anzhiyu.removeGlobalFnEvent("pjax"),anzhiyu.removeGlobalFnEvent("themeChange"),document.getElementById("rightside").classList.remove("rightside-show"),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();var e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")}),document.addEventListener("pjax:complete",function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script");var o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()}),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><script async data-pjax src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script charset=UTF-8 src=https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js></script></div><div id=popup-window><div class=popup-window-title>通知</div><div class=popup-window-divider></div><div class=popup-window-content><div class=popup-tip>你好呀</div><div class=popup-link><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div><script data-pjax>function butterfly_clock_anzhiyu_injector_config(){var e=document.getElementsByClassName("sticky_layout")[0];console.log("已挂载butterfly_clock_anzhiyu"),e&&e.insertAdjacentHTML("afterbegin",'<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>')}for(var elist="null".split(","),cpage=location.pathname,epage="all",qweather_key="2993713eb1b744d0934bdbd8702ebce2",gaud_map_key="f7fc8942b29f9f35faa3399f70793edf",baidu_ak_key="undefined",flag=0,clock_rectangle="112.982279,28.19409",clock_default_rectangle_enable="false",i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_clock_anzhiyu_injector_config()</script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src=https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js></script><script async src=//at.alicdn.com/t/c/font_4133697_i8em6d1t5h.js></script></body></html>